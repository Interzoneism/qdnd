[0;32m[INFO][0m Using Godot: godot
[0;32m[INFO][0m Project dir: /home/martin/repos/qdnd
[0;32m[INFO][0m Running in FULL-FIDELITY mode (HUD, animations, visuals active)
[0;32m[INFO][0m Running auto-battle...
[0;36mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32m[INFO][0m Using existing display: :0
Godot Engine v4.6.stable.mono.official.89cea1439 - https://godotengine.org
Vulkan 1.4.305 - Forward+ - Using Device #0: Unknown - llvmpipe (LLVM 19.1.1, 256 bits)

[ScenarioSelector] Found 20 scenarios
[CombatArena] === COMBAT ARENA INITIALIZING ===
[DebugFlag] IsAutoBattle = True
[DebugFlag] IsFullFidelity = True
[DebugFlag] SkipAnimations = False
[CombatArena] Full-fidelity mode: HUD, animations, and visuals will run normally
[CombatArena] Auto-battle CLI mode detected
[CombatArena] Auto-battle scenario: res://Data/Scenarios/minimal_combat.json
[CombatArena] Auto-battle seed override: 100
[CombatArena] Ground collision plane created (100x100m at Y=0)
[CombatArena] CombatContext created
[CombatContext] Registered service: CombatStateMachine
[CombatContext] Registered service: TurnQueueService
[CombatContext] Registered service: CommandService
[CombatContext] Registered service: CombatLog
[CombatContext] Registered service: ScenarioLoader
[Registry] Loaded from /home/martin/repos/qdnd/Data:
  - 7 abilities
  - 6 statuses
  - 20 scenarios
[INFO] [Registry] Dependencies: Checked 7 abilities, 6 statuses, 20 scenarios
[Registry] Validation complete: 0 errors, 0 warnings
[CombatContext] Registered service: DataRegistry
[CombatContext] Registered service: RulesEngine
[CombatContext] Registered service: StatusManager
[CombatContext] Registered service: EffectPipeline
[CombatContext] Registered service: TargetValidator
[CombatContext] Registered service: ReactionSystem
[CombatContext] Registered service: LOSService
[CombatContext] Registered service: HeightService
[CombatContext] Registered service: AIDecisionPipeline
[CombatContext] Registered service: MovementService
[CombatContext] Registered service: SurfaceManager
[CombatContext] Registered service: PresentationRequestBus
[CombatContext] Registered service: CameraStateHooks
[CombatArena] UI Models initialized
[CombatArena] Services registered: 18
[CombatArena] Loaded scenario: 4 combatants
[CombatArena] Loaded scenario from: res://Data/Scenarios/minimal_combat.json
[CombatArena] Registered default abilities: basic_attack, ranged_attack, power_strike
[CombatArena] Instantiating visual from scene for Fighter
[CombatantVisual] CollisionShape3D found for Fighter
[CombatantVisual] Fighter initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Fighter at (0, 0, 0), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Mage
[CombatantVisual] CollisionShape3D found for Mage
[CombatantVisual] Mage initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Mage at (-2, 0, 0), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Goblin
[CombatantVisual] CollisionShape3D found for Goblin
[CombatantVisual] Goblin initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Goblin at (1, 0, 0), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Orc
[CombatantVisual] CollisionShape3D found for Orc
[CombatantVisual] Orc initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Orc at (6, 0, 1), Layer: 2, InTree: True
[AutoBattleWatchdog] Ready
[COMBAT_LOG] {"ts":1770503636955,"event":"BATTLE_START","seed":42,"units":[{"id":"ally_1","name":"Fighter","faction":"Player","hp":50,"max_hp":50,"pos":[0,0,0],"alive":true},{"id":"ally_2","name":"Mage","faction":"Player","hp":30,"max_hp":30,"pos":[-2,0,0],"alive":true},{"id":"enemy_1","name":"Goblin","faction":"Hostile","hp":20,"max_hp":20,"pos":[1,0,0],"alive":true},{"id":"enemy_2","name":"Orc","faction":"Hostile","hp":35,"max_hp":35,"pos":[6,0,1],"alive":true}]}
[AutoBattleWatchdog] Monitoring STARTED (freeze: 20s, loop: 20 in 1s)
[AutoBattleRuntime] Monitoring started (seed=42, scenario=res://Data/Scenarios/minimal_combat.json)
[CombatArena] [STATE] NotInCombat -> CombatStart
[COMBAT_LOG] {"ts":1770503636980,"event":"STATE_CHANGE","reason":"Combat initiated","from_state":"NotInCombat","to_state":"CombatStart"}
[CombatArena] [TURN] Round 1, Fighter
[COMBAT_LOG] {"ts":1770503636983,"event":"TURN_START","turn":1,"round":1,"unit":"ally_1","unit_name":"Fighter","faction":"Player","hp":50,"max_hp":50,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[0,0,0]}
[COMBAT_LOG] {"ts":1770503636983,"event":"STATE_SNAPSHOT","turn":1,"round":1,"units":[{"id":"ally_1","name":"Fighter","faction":"Player","hp":50,"max_hp":50,"pos":[0,0,0],"alive":true},{"id":"ally_2","name":"Mage","faction":"Player","hp":30,"max_hp":30,"pos":[-2,0,0],"alive":true},{"id":"enemy_1","name":"Goblin","faction":"Hostile","hp":20,"max_hp":20,"pos":[1,0,0],"alive":true},{"id":"enemy_2","name":"Orc","faction":"Hostile","hp":35,"max_hp":35,"pos":[6,0,1],"alive":true}]}
[CombatArena] [STATE] CombatStart -> TurnStart
[COMBAT_LOG] {"ts":1770503636985,"event":"STATE_CHANGE","reason":"First turn","from_state":"CombatStart","to_state":"TurnStart"}
[CombatArena] Round 1: Reset reactions for all combatants
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770503636988,"event":"STATE_CHANGE","reason":"Awaiting Fighter\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[CombatArena] Camera panning to Fighter at (0, 0, 0)
[CombatArena] SelectCombatant called: ally_1
[CombatArena] Selected: ally_1
[CombatArena] Turn started: Fighter (Player)
[CombatArena] === COMBAT ARENA READY ===
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503636997,"event":"STATE_CHANGE","reason":"ally_1 ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[CombatArena] [TURN] Round 1, Goblin
[COMBAT_LOG] {"ts":1770503637000,"event":"TURN_START","turn":2,"round":1,"unit":"enemy_1","unit_name":"Goblin","faction":"Hostile","hp":20,"max_hp":20,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[1,0,0]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503637001,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770503637001,"event":"STATE_CHANGE","reason":"Awaiting Goblin\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[CombatArena] Camera panning to Goblin at (1, 0, 0)
[CombatArena] SelectCombatant called: enemy_1
[CombatArena] Selected: enemy_1
[CombatArena] Turn started: Goblin (AI)
[CombatHUD] DeferredInit called - _disposed=False, IsValid=True, InTree=True
[CombatHUD] DeferredInit proceeding with setup
[CombatHUD] === NEW BG3-STYLE HUD SETUP ===
[CombatHUD] MouseFilter set to: Ignore
[CombatHUD] Top bar: (1152, 70) at (0, 0)
[CombatHUD] Hotbar panel created
[CombatHUD] Created ability button 0 with MouseFilter: Stop
[CombatHUD] Created ability button 1 with MouseFilter: Stop
[CombatHUD] Created ability button 2 with MouseFilter: Stop
[CombatHUD] Created ability button 3 with MouseFilter: Stop
[CombatHUD] Created ability button 4 with MouseFilter: Stop
[CombatHUD] Created ability button 5 with MouseFilter: Stop
[CombatHUD] Created ability button 6 with MouseFilter: Stop
[CombatHUD] Created ability button 7 with MouseFilter: Stop
[CombatHUD] Created ability button 8 with MouseFilter: Stop
[CombatHUD] Created ability button 9 with MouseFilter: Stop
[CombatHUD] Created ability button 10 with MouseFilter: Stop
[CombatHUD] Created ability button 11 with MouseFilter: Stop
[CombatHUD] End Turn button created
[CombatHUD] Combat log panel created
[CombatHUD] Character portrait panel created
[UIAwareAI] Ready
[UIAwareAI] Subscribed to state machine
[UIAwareAI] Attached to CombatArena
[CombatHUD] END TURN Debug:
  Position: (1020, 572)
  Size: (120, 60)
  GlobalPosition: (1020, 572)
  Visible: True
  IsInsideTree: True
  Anchors: L=1, R=1, T=1, B=1
  Offsets: L=-132, R=-12, T=-76, B=-16
[UIAwareAI] Processing ENABLED
[CombatArena] UI-aware AI autoplay ENABLED for all factions (full-fidelity mode)
[UIAwareAI] HUD components verified
[UIAwareAI] HUD is ready
[AutoBattleRuntime] Connected to UIAwareAIController events (deferred)
[UIAwareAI] Turn started for Goblin (waited 1.54s total)
[COMBAT_LOG] {"ts":1770503640406,"event":"DECISION","unit":"enemy_1","action":"Attack","target":"ally_2","score":1.0593691,"reason":"damage_value","score_breakdown":{"damage_value":1.5,"random":0.08}}
[UIAwareAI] Goblin -> Attack (#1) score:1.06
[CombatArena] ExecuteAbility: enemy_1 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (3.0/1.5)
[COMBAT_LOG] {"ts":1770503640410,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=2.4879, elapsedSinceLastAction=0.8993, nextActionDelay=1.0253, actionsTaken=1, timelines=0, actor=enemy_1(True), cooldown_check=0.9003<1.0253=True
[COMBAT_LOG] {"ts":1770503642989,"event":"DECISION","unit":"enemy_1","action":"Attack","target":"ally_2","score":1.0593691,"reason":"damage_value","score_breakdown":{"damage_value":1.5,"random":0.08}}
[UIAwareAI] Goblin -> Attack (#2) score:1.06
[CombatArena] ExecuteAbility: enemy_1 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (3.0/1.5)
[COMBAT_LOG] {"ts":1770503642989,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[COMBAT_LOG] {"ts":1770503644202,"event":"DECISION","unit":"enemy_1","action":"EndTurn","score":0.10274724,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Goblin -> EndTurn (#3) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503644204,"event":"STATE_CHANGE","reason":"enemy_1 ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Mage
[COMBAT_LOG] {"ts":1770503644204,"event":"TURN_START","turn":3,"round":1,"unit":"ally_2","unit_name":"Mage","faction":"Player","hp":30,"max_hp":30,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[-2,0,0]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503644207,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770503644210,"event":"STATE_CHANGE","reason":"Awaiting Mage\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Mage at (-2, 0, 0)
[CombatArena] SelectCombatant called: ally_2
[CombatArena] Selected: ally_2
[CombatArena] Turn started: Mage (Player)
[UIAwareAI] Turn started for Mage (waited 2.45s total)
[COMBAT_LOG] {"ts":1770503644549,"event":"DECISION","unit":"ally_2","action":"Disengage","score":2.0662122,"reason":"escape_threats","score_breakdown":{"escape_threats":2,"random":0.07}}
[UIAwareAI] Mage -> Disengage (#1) score:2.07
[UIAwareAI] Unhandled action type: Disengage
[COMBAT_LOG] {"ts":1770503644550,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":false,"description":"Disengage: not implemented","ability_id":"Disengage: not implemented"}
[COMBAT_LOG] {"ts":1770503645602,"event":"DECISION","unit":"ally_2","action":"Disengage","score":2.0662122,"reason":"escape_threats","score_breakdown":{"escape_threats":2,"random":0.07}}
[UIAwareAI] Mage -> Disengage (#2) score:2.07
[UIAwareAI] Unhandled action type: Disengage
[COMBAT_LOG] {"ts":1770503645603,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":false,"description":"Disengage: not implemented","ability_id":"Disengage: not implemented"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (1.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.6341, elapsedSinceLastAction=0.2412, nextActionDelay=1.4834, actionsTaken=2, timelines=0, actor=ally_2(True), cooldown_check=0.2422<1.4834=True
[COMBAT_LOG] {"ts":1770503647048,"event":"DECISION","unit":"ally_2","action":"Disengage","score":2.1962063,"reason":"escape_threats","score_breakdown":{"escape_threats":2,"random":0.2}}
[UIAwareAI] Mage -> Disengage (#3) score:2.20
[UIAwareAI] Unhandled action type: Disengage
[COMBAT_LOG] {"ts":1770503647049,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":false,"description":"Disengage: not implemented","ability_id":"Disengage: not implemented"}
[COMBAT_LOG] {"ts":1770503648344,"event":"DECISION","unit":"ally_2","action":"Disengage","score":2.1962063,"reason":"escape_threats","score_breakdown":{"escape_threats":2,"random":0.2}}
[UIAwareAI] Mage -> Disengage (#4) score:2.20
[UIAwareAI] Unhandled action type: Disengage
[COMBAT_LOG] {"ts":1770503648344,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":false,"description":"Disengage: not implemented","ability_id":"Disengage: not implemented"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.9s remaining), isActing=False, hudReady=True, timeSinceStateChange=4.6433, elapsedSinceLastAction=0.3824, nextActionDelay=1.2545, actionsTaken=4, timelines=0, actor=ally_2(True), cooldown_check=0.3834<1.2545=True
[COMBAT_LOG] {"ts":1770503649598,"event":"DECISION","unit":"ally_2","action":"Disengage","score":2.1316266,"reason":"escape_threats","score_breakdown":{"escape_threats":2,"random":0.13}}
[UIAwareAI] Mage -> Disengage (#5) score:2.13
[UIAwareAI] Unhandled action type: Disengage
[COMBAT_LOG] {"ts":1770503649599,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":false,"description":"Disengage: not implemented","ability_id":"Disengage: not implemented"}
[COMBAT_LOG] {"ts":1770503650769,"event":"DECISION","unit":"ally_2","action":"Disengage","score":2.1316266,"reason":"escape_threats","score_breakdown":{"escape_threats":2,"random":0.13}}
[UIAwareAI] Mage -> Disengage (#6) score:2.13
[UIAwareAI] Unhandled action type: Disengage
[COMBAT_LOG] {"ts":1770503650769,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":false,"description":"Disengage: not implemented","ability_id":"Disengage: not implemented"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.3s remaining), isActing=False, hudReady=True, timeSinceStateChange=7.6697, elapsedSinceLastAction=0.8503, nextActionDelay=1.1107, actionsTaken=6, timelines=0, actor=ally_2(True), cooldown_check=0.8513<1.1107=True
[COMBAT_LOG] {"ts":1770503651817,"event":"DECISION","unit":"ally_2","action":"Attack","target":"enemy_1","score":0.6773397,"reason":"damage_value","score_breakdown":{"damage_value":1,"random":0.03}}
[UIAwareAI] Mage -> Attack (#7) score:0.68
[CombatArena] ExecuteAbility: ally_2 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (3.0/1.5)
[COMBAT_LOG] {"ts":1770503651817,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[COMBAT_LOG] {"ts":1770503652738,"event":"DECISION","unit":"ally_2","action":"Attack","target":"enemy_1","score":0.6773397,"reason":"damage_value","score_breakdown":{"damage_value":1,"random":0.03}}
[UIAwareAI] Mage -> Attack (#8) score:0.68
[CombatArena] ExecuteAbility: ally_2 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (3.0/1.5)
[COMBAT_LOG] {"ts":1770503652739,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[COMBAT_LOG] {"ts":1770503653851,"event":"DECISION","unit":"ally_2","action":"EndTurn","score":0.10201732,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Mage -> EndTurn (#9) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503653852,"event":"STATE_CHANGE","reason":"ally_2 ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Orc
[COMBAT_LOG] {"ts":1770503653853,"event":"TURN_START","turn":4,"round":1,"unit":"enemy_2","unit_name":"Orc","faction":"Hostile","hp":35,"max_hp":35,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[6,0,1]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503653854,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770503653854,"event":"STATE_CHANGE","reason":"Awaiting Orc\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Orc at (6, 0, 1)
[CombatArena] SelectCombatant called: enemy_2
[CombatArena] Selected: enemy_2
[CombatArena] Turn started: Orc (AI)
[UIAwareAI] Turn started for Orc (waited 9.68s total)
[COMBAT_LOG] {"ts":1770503654146,"event":"DECISION","unit":"enemy_2","action":"Attack","target":"ally_2","score":9.087865,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.11}}
[UIAwareAI] Orc -> Attack (#1) score:9.09
[CombatArena] ExecuteAbility: enemy_2 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (8.1/1.5)
[COMBAT_LOG] {"ts":1770503654146,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (1.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.5840, elapsedSinceLastAction=0.2535, nextActionDelay=1.4900, actionsTaken=1, timelines=0, actor=enemy_2(True), cooldown_check=0.2545<1.4900=True
[COMBAT_LOG] {"ts":1770503655553,"event":"DECISION","unit":"enemy_2","action":"Move","target":"(-6, 0, 0)","score":1.9855673,"reason":"positioning","score_breakdown":{"positioning":1.92,"random":0.07}}
[UIAwareAI] Orc -> Move (#2) score:1.99
[CombatArena] ExecuteMovement: enemy_2 -> (-6, 0, 0)
[CombatArena] ExecuteMovement starting with action ID 1
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503655555,"event":"STATE_CHANGE","reason":"Orc moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc moved from (6, 0, 1) to (-6, 0, 0), distance: 12.0
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503655559,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503655559,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Move to (-6, 0, 0)","ability_id":"Move to (-6, 0, 0)"}
[COMBAT_LOG] {"ts":1770503657070,"event":"DECISION","unit":"enemy_2","action":"Attack","target":"ally_2","score":9.087865,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.11}}
[UIAwareAI] Orc -> Attack (#3) score:9.09
[CombatArena] ExecuteAbility: enemy_2 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (4.0/1.5)
[COMBAT_LOG] {"ts":1770503657070,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.9s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.7943, elapsedSinceLastAction=0.1667, nextActionDelay=1.1059, actionsTaken=3, timelines=0, actor=enemy_2(True), cooldown_check=0.1677<1.1059=True
[COMBAT_LOG] {"ts":1770503658130,"event":"DECISION","unit":"enemy_2","action":"EndTurn","score":0.1065792,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Orc -> EndTurn (#4) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503658131,"event":"STATE_CHANGE","reason":"enemy_2 ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Fighter
[COMBAT_LOG] {"ts":1770503658132,"event":"ROUND_END","round":1}
[COMBAT_LOG] {"ts":1770503658132,"event":"TURN_START","turn":5,"round":2,"unit":"ally_1","unit_name":"Fighter","faction":"Player","hp":50,"max_hp":50,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[0,0,0]}
[COMBAT_LOG] {"ts":1770503658132,"event":"STATE_SNAPSHOT","turn":5,"round":2,"units":[{"id":"ally_1","name":"Fighter","faction":"Player","hp":50,"max_hp":50,"pos":[0,0,0],"alive":true},{"id":"ally_2","name":"Mage","faction":"Player","hp":30,"max_hp":30,"pos":[-2,0,0],"alive":true},{"id":"enemy_1","name":"Goblin","faction":"Hostile","hp":20,"max_hp":20,"pos":[1,0,0],"alive":true},{"id":"enemy_2","name":"Orc","faction":"Hostile","hp":35,"max_hp":35,"pos":[-6,0,0],"alive":true}]}
[CombatArena] [STATE] TurnEnd -> RoundEnd
[COMBAT_LOG] {"ts":1770503658134,"event":"STATE_CHANGE","reason":"Round 1 ended","from_state":"TurnEnd","to_state":"RoundEnd"}
[UIAwareAI] State: TurnEnd -> RoundEnd
[CombatArena] [STATE] RoundEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503658135,"event":"STATE_CHANGE","reason":"Next turn","from_state":"RoundEnd","to_state":"TurnStart"}
[UIAwareAI] State: RoundEnd -> TurnStart
[CombatArena] Round 2: Reset reactions for all combatants
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770503658136,"event":"STATE_CHANGE","reason":"Awaiting Fighter\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Fighter at (0, 0, 0)
[CombatArena] SelectCombatant called: ally_1
[CombatArena] Selected: ally_1
[CombatArena] Turn started: Fighter (Player)
[UIAwareAI] Turn started for Fighter (waited 4.39s total)
[COMBAT_LOG] {"ts":1770503658427,"event":"DECISION","unit":"ally_1","action":"Attack","target":"enemy_1","score":7.235997,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.59}}
[UIAwareAI] Fighter -> Attack (#1) score:7.24
[CombatArena] ExecuteAbility: ally_1 -> basic_attack -> enemy_1
[CombatArena] ExecuteAbility starting with action ID 2
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503658428,"event":"STATE_CHANGE","reason":"Fighter using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter used basic_attack on Goblin: damage:10
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770503658444,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503659000,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[CombatArena] Ignoring stale callback (action 2 vs executing -1): Ability timeline timeout fallback
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.4s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.1513, elapsedSinceLastAction=0.8767, nextActionDelay=1.2625, actionsTaken=1, timelines=0, actor=ally_1(True), cooldown_check=0.8777<1.2625=True
[COMBAT_LOG] {"ts":1770503660410,"event":"DECISION","unit":"ally_1","action":"Attack","target":"enemy_1","score":7.235997,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.59}}
[UIAwareAI] Fighter -> Attack (#2) score:7.24
[CombatArena] ExecuteAbility: ally_1 -> basic_attack -> enemy_1
[CombatArena] ExecuteAbility starting with action ID 3
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503660411,"event":"STATE_CHANGE","reason":"Fighter using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503660412,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503660412,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[COMBAT_LOG] {"ts":1770503661861,"event":"DECISION","unit":"ally_1","action":"Move","target":"(5, 0, 0)","score":0.7717295,"reason":"positioning","score_breakdown":{"positioning":0.72,"random":0.05}}
[UIAwareAI] Fighter -> Move (#3) score:0.77
[CombatArena] ExecuteMovement: ally_1 -> (5, 0, 0)
[CombatArena] ExecuteMovement starting with action ID 4
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503661862,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (0, 0, 0) to (5, 0, 0), distance: 5.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503661863,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503661863,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Move to (5, 0, 0)","ability_id":"Move to (5, 0, 0)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.0567, elapsedSinceLastAction=0.7817, nextActionDelay=0.9810, actionsTaken=3, timelines=0, actor=ally_1(True), cooldown_check=0.7827<0.9810=True
[COMBAT_LOG] {"ts":1770503663060,"event":"DECISION","unit":"ally_1","action":"Move","target":"(5, 0, 0)","score":0.7717295,"reason":"positioning","score_breakdown":{"positioning":0.72,"random":0.05}}
[UIAwareAI] Fighter -> Move (#4) score:0.77
[CombatArena] ExecuteMovement: ally_1 -> (5, 0, 0)
[CombatArena] ExecuteMovement starting with action ID 5
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503663061,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (5, 0, 0) to (5, 0, 0), distance: 0.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503663062,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503663062,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Move to (5, 0, 0)","ability_id":"Move to (5, 0, 0)"}
[COMBAT_LOG] {"ts":1770503664297,"event":"DECISION","unit":"ally_1","action":"Move","target":"(26.939564, 0, -11.985639)","score":0.05464204,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Fighter -> Move (#5) score:0.05
[CombatArena] ExecuteMovement: ally_1 -> (26.939564, 0, -11.985639)
[CombatArena] ExecuteMovement starting with action ID 6
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503664298,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (5, 0, 0) to (26.939564, 0, -11.985639), distance: 25.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503664299,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503664299,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Move to (26.939564, 0, -11.985639)","ability_id":"Move to (26.939564, 0, -11.985639)"}
[COMBAT_LOG] {"ts":1770503665639,"event":"DECISION","unit":"ally_1","action":"Move","target":"(26.939564, 0, -11.985639)","score":0.05464204,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Fighter -> Move (#6) score:0.05
[CombatArena] ExecuteMovement: ally_1 -> (26.939564, 0, -11.985639)
[CombatArena] ExecuteMovement starting with action ID 7
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503665640,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (26.939564, 0, -11.985639) to (26.939564, 0, -11.985639), distance: 0.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503665640,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503665640,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Move to (26.939564, 0, -11.985639)","ability_id":"Move to (26.939564, 0, -11.985639)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=state to settle (0.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.0942, elapsedSinceLastAction=0.0000, nextActionDelay=1.0383, actionsTaken=6, timelines=0, actor=ally_1(True), cooldown_check=0.0010<1.0383=True
[COMBAT_LOG] {"ts":1770503666917,"event":"DECISION","unit":"ally_1","action":"EndTurn","score":0.107306734,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Fighter -> EndTurn (#7) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503666917,"event":"STATE_CHANGE","reason":"ally_1 ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Goblin
[COMBAT_LOG] {"ts":1770503666918,"event":"TURN_START","turn":6,"round":2,"unit":"enemy_1","unit_name":"Goblin","faction":"Hostile","hp":10,"max_hp":20,"ap":"Bonus | Reaction | Move:30/30","pos":[1,0,0]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503666919,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770503666920,"event":"STATE_CHANGE","reason":"Awaiting Goblin\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Goblin at (1, 0, 0)
[CombatArena] SelectCombatant called: enemy_1
[CombatArena] Selected: enemy_1
[CombatArena] Turn started: Goblin (AI)
[UIAwareAI] Turn started for Goblin (waited 9.03s total)
[COMBAT_LOG] {"ts":1770503667232,"event":"DECISION","unit":"enemy_1","action":"Attack","target":"ally_2","score":9.022478,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.05}}
[UIAwareAI] Goblin -> Attack (#1) score:9.02
[CombatArena] ExecuteAbility: enemy_1 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (3.0/1.5)
[COMBAT_LOG] {"ts":1770503667232,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.0s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.7816, elapsedSinceLastAction=1.4533, nextActionDelay=1.4741, actionsTaken=1, timelines=0, actor=enemy_1(True), cooldown_check=1.4543<1.4741=True
[COMBAT_LOG] {"ts":1770503668667,"event":"DECISION","unit":"enemy_1","action":"Attack","target":"ally_2","score":9.022478,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.05}}
[UIAwareAI] Goblin -> Attack (#2) score:9.02
[CombatArena] ExecuteAbility: enemy_1 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (3.0/1.5)
[COMBAT_LOG] {"ts":1770503668667,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[COMBAT_LOG] {"ts":1770503670129,"event":"DECISION","unit":"enemy_1","action":"EndTurn","score":0.103261836,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Goblin -> EndTurn (#3) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503670130,"event":"STATE_CHANGE","reason":"enemy_1 ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Mage
[COMBAT_LOG] {"ts":1770503670130,"event":"TURN_START","turn":7,"round":2,"unit":"ally_2","unit_name":"Mage","faction":"Player","hp":30,"max_hp":30,"ap":"Bonus | Reaction | Move:30/30","pos":[-2,0,0]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503670131,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770503670132,"event":"STATE_CHANGE","reason":"Awaiting Mage\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Mage at (-2, 0, 0)
[CombatArena] SelectCombatant called: ally_2
[CombatArena] Selected: ally_2
[CombatArena] Turn started: Mage (Player)
[UIAwareAI] Turn started for Mage (waited 3.21s total)
[COMBAT_LOG] {"ts":1770503670435,"event":"DECISION","unit":"ally_2","action":"Attack","target":"enemy_1","score":23.375225,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"random":1.73,"damage_value":1}}
[UIAwareAI] Mage -> Attack (#1) score:23.38
[CombatArena] ExecuteAbility: ally_2 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (3.0/1.5)
[COMBAT_LOG] {"ts":1770503670435,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.4504, elapsedSinceLastAction=1.1358, nextActionDelay=1.3400, actionsTaken=1, timelines=0, actor=ally_2(True), cooldown_check=1.1368<1.3400=True
[COMBAT_LOG] {"ts":1770503671757,"event":"DECISION","unit":"ally_2","action":"Attack","target":"enemy_1","score":23.375225,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"random":1.73,"damage_value":1}}
[UIAwareAI] Mage -> Attack (#2) score:23.38
[CombatArena] ExecuteAbility: ally_2 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (3.0/1.5)
[COMBAT_LOG] {"ts":1770503671758,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[COMBAT_LOG] {"ts":1770503672523,"event":"DECISION","unit":"ally_2","action":"Move","target":"(12.142133, 0, -14.142138)","score":0.32887614,"reason":"positioning","score_breakdown":{"positioning":0.3,"random":0.03}}
[UIAwareAI] Mage -> Move (#3) score:0.33
[CombatArena] ExecuteMovement: ally_2 -> (12.142133, 0, -14.142138)
[CombatArena] ExecuteMovement starting with action ID 8
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503672524,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage moved from (-2, 0, 0) to (12.142133, 0, -14.142138), distance: 20.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503672524,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503672525,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Move to (12.142133, 0, -14.142138)","ability_id":"Move to (12.142133, 0, -14.142138)"}
[COMBAT_LOG] {"ts":1770503674200,"event":"DECISION","unit":"ally_2","action":"Move","target":"(12.142133, 0, -14.142138)","score":0.32887614,"reason":"positioning","score_breakdown":{"positioning":0.3,"random":0.03}}
[UIAwareAI] Mage -> Move (#4) score:0.33
[CombatArena] ExecuteMovement: ally_2 -> (12.142133, 0, -14.142138)
[CombatArena] ExecuteMovement starting with action ID 9
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503674201,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage moved from (12.142133, 0, -14.142138) to (12.142133, 0, -14.142138), distance: 0.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503674202,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503674202,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Move to (12.142133, 0, -14.142138)","ability_id":"Move to (12.142133, 0, -14.142138)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=state to settle (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.2500, elapsedSinceLastAction=0.0000, nextActionDelay=1.4566, actionsTaken=4, timelines=0, actor=ally_2(True), cooldown_check=0.0010<1.4566=True
[COMBAT_LOG] {"ts":1770503675996,"event":"DECISION","unit":"ally_2","action":"Move","target":"(15.677666, 0, -17.677671)","score":0.054457963,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Mage -> Move (#5) score:0.05
[CombatArena] ExecuteMovement: ally_2 -> (15.677666, 0, -17.677671)
[CombatArena] ExecuteMovement starting with action ID 10
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503675997,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage moved from (12.142133, 0, -14.142138) to (15.677666, 0, -17.677671), distance: 5.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503675998,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503675998,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Move to (15.677666, 0, -17.677671)","ability_id":"Move to (15.677666, 0, -17.677671)"}
[COMBAT_LOG] {"ts":1770503677338,"event":"DECISION","unit":"ally_2","action":"Move","target":"(15.677666, 0, -17.677671)","score":0.054457963,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Mage -> Move (#6) score:0.05
[CombatArena] ExecuteMovement: ally_2 -> (15.677666, 0, -17.677671)
[CombatArena] ExecuteMovement starting with action ID 11
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503677339,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage moved from (15.677666, 0, -17.677671) to (15.677666, 0, -17.677671), distance: 0.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503677339,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503677340,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Move to (15.677666, 0, -17.677671)","ability_id":"Move to (15.677666, 0, -17.677671)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=state to settle (0.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.1259, elapsedSinceLastAction=0.0000, nextActionDelay=1.1273, actionsTaken=6, timelines=0, actor=ally_2(True), cooldown_check=0.0010<1.1273=True
[COMBAT_LOG] {"ts":1770503678777,"event":"DECISION","unit":"ally_2","action":"Move","target":"(20.640415, 0, -17.06846)","score":0.054917403,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Mage -> Move (#7) score:0.05
[CombatArena] ExecuteMovement: ally_2 -> (20.640415, 0, -17.06846)
[CombatArena] ExecuteMovement starting with action ID 12
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503678778,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Insufficient movement (5.0/5.0)
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503678779,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503678779,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Move to (20.640415, 0, -17.06846)","ability_id":"Move to (20.640415, 0, -17.06846)"}
[COMBAT_LOG] {"ts":1770503680095,"event":"DECISION","unit":"ally_2","action":"Move","target":"(20.640415, 0, -17.06846)","score":0.054917403,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Mage -> Move (#8) score:0.05
[CombatArena] ExecuteMovement: ally_2 -> (20.640415, 0, -17.06846)
[CombatArena] ExecuteMovement starting with action ID 13
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503680096,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Insufficient movement (5.0/5.0)
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503680097,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503680097,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Move to (20.640415, 0, -17.06846)","ability_id":"Move to (20.640415, 0, -17.06846)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (1.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.3673, elapsedSinceLastAction=0.0804, nextActionDelay=1.2615, actionsTaken=8, timelines=0, actor=ally_2(True), cooldown_check=0.0814<1.2615=True
[COMBAT_LOG] {"ts":1770503681616,"event":"DECISION","unit":"ally_2","action":"EndTurn","score":0.102329314,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Mage -> EndTurn (#9) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503681616,"event":"STATE_CHANGE","reason":"ally_2 ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Orc
[COMBAT_LOG] {"ts":1770503681617,"event":"TURN_START","turn":8,"round":2,"unit":"enemy_2","unit_name":"Orc","faction":"Hostile","hp":35,"max_hp":35,"ap":"Bonus | Reaction | Move:18/30","pos":[-6,0,0]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503681618,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770503681619,"event":"STATE_CHANGE","reason":"Awaiting Orc\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Orc at (-6, 0, 0)
[CombatArena] SelectCombatant called: enemy_2
[CombatArena] Selected: enemy_2
[CombatArena] Turn started: Orc (AI)
[UIAwareAI] Turn started for Orc (waited 11.33s total)
[COMBAT_LOG] {"ts":1770503681940,"event":"DECISION","unit":"enemy_2","action":"Attack","target":"ally_2","score":9.395888,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.42}}
[UIAwareAI] Orc -> Attack (#1) score:9.40
[CombatArena] ExecuteAbility: enemy_2 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (28.0/1.5)
[COMBAT_LOG] {"ts":1770503681940,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[COMBAT_LOG] {"ts":1770503683180,"event":"DECISION","unit":"enemy_2","action":"Move","target":"(12.577734, 0, -15.149743)","score":2.5342646,"reason":"positioning","score_breakdown":{"positioning":2.34,"random":0.2}}
[UIAwareAI] Orc -> Move (#2) score:2.53
[CombatArena] ExecuteMovement: enemy_2 -> (12.577734, 0, -15.149743)
[CombatArena] ExecuteMovement starting with action ID 14
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503683181,"event":"STATE_CHANGE","reason":"Orc moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc moved from (-6, 0, 0) to (12.577734, 0, -15.149743), distance: 24.0
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503683182,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503683182,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Move to (12.577734, 0, -15.149743)","ability_id":"Move to (12.577734, 0, -15.149743)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=state to settle (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.2407, elapsedSinceLastAction=0.0000, nextActionDelay=1.3678, actionsTaken=2, timelines=0, actor=enemy_2(True), cooldown_check=0.0010<1.3678=True
[COMBAT_LOG] {"ts":1770503684846,"event":"DECISION","unit":"enemy_2","action":"Attack","target":"ally_2","score":9.395888,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.42}}
[UIAwareAI] Orc -> Attack (#3) score:9.40
[CombatArena] ExecuteAbility: enemy_2 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (4.0/1.5)
[COMBAT_LOG] {"ts":1770503684846,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[COMBAT_LOG] {"ts":1770503686008,"event":"DECISION","unit":"enemy_2","action":"EndTurn","score":0.10078764,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Orc -> EndTurn (#4) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503686009,"event":"STATE_CHANGE","reason":"enemy_2 ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 3, Fighter
[COMBAT_LOG] {"ts":1770503686009,"event":"ROUND_END","round":2}
[COMBAT_LOG] {"ts":1770503686009,"event":"TURN_START","turn":9,"round":3,"unit":"ally_1","unit_name":"Fighter","faction":"Player","hp":50,"max_hp":50,"ap":"Bonus | Reaction | Move:0/30","pos":[26.939564,0,-11.985639]}
[CombatArena] [STATE] TurnEnd -> RoundEnd
[COMBAT_LOG] {"ts":1770503686011,"event":"STATE_CHANGE","reason":"Round 2 ended","from_state":"TurnEnd","to_state":"RoundEnd"}
[UIAwareAI] State: TurnEnd -> RoundEnd
[CombatArena] [STATE] RoundEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503686011,"event":"STATE_CHANGE","reason":"Next turn","from_state":"RoundEnd","to_state":"TurnStart"}
[UIAwareAI] State: RoundEnd -> TurnStart
[CombatArena] Round 3: Reset reactions for all combatants
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770503686012,"event":"STATE_CHANGE","reason":"Awaiting Fighter\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Fighter at (26.939564, 0, -11.985639)
[CombatArena] SelectCombatant called: ally_1
[CombatArena] Selected: ally_1
[CombatArena] Turn started: Fighter (Player)
[UIAwareAI] Turn started for Fighter (waited 4.23s total)
[COMBAT_LOG] {"ts":1770503686325,"event":"DECISION","unit":"ally_1","action":"Attack","target":"enemy_1","score":23.666245,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"random":2.02,"damage_value":1}}
[UIAwareAI] Fighter -> Attack (#1) score:23.67
[CombatArena] ExecuteAbility: ally_1 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (28.6/1.5)
[COMBAT_LOG] {"ts":1770503686325,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (1.0s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.4300, elapsedSinceLastAction=0.1181, nextActionDelay=1.1459, actionsTaken=1, timelines=0, actor=ally_1(True), cooldown_check=0.1191<1.1459=True
[COMBAT_LOG] {"ts":1770503687487,"event":"DECISION","unit":"ally_1","action":"Move","target":"(9.477802, 0, -12.621815)","score":1.4338714,"reason":"positioning","score_breakdown":{"positioning":1.32,"random":0.11}}
[UIAwareAI] Fighter -> Move (#2) score:1.43
[CombatArena] ExecuteMovement: ally_1 -> (9.477802, 0, -12.621815)
[CombatArena] ExecuteMovement starting with action ID 15
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503687488,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (26.939564, 0, -11.985639) to (9.477802, 0, -12.621815), distance: 17.5
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503687489,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503687489,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Move to (9.477802, 0, -12.621815)","ability_id":"Move to (9.477802, 0, -12.621815)"}
[COMBAT_LOG] {"ts":1770503688961,"event":"DECISION","unit":"ally_1","action":"Attack","target":"enemy_1","score":23.666245,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"random":2.02,"damage_value":1}}
[UIAwareAI] Fighter -> Attack (#3) score:23.67
[CombatArena] ExecuteAbility: ally_1 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (15.2/1.5)
[COMBAT_LOG] {"ts":1770503688962,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.4s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.9574, elapsedSinceLastAction=0.4772, nextActionDelay=0.8459, actionsTaken=3, timelines=0, actor=ally_1(True), cooldown_check=0.4782<0.8459=True
[COMBAT_LOG] {"ts":1770503689897,"event":"DECISION","unit":"ally_1","action":"Move","target":"(9.477802, 0, -2.6218147)","score":0.054991588,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Fighter -> Move (#4) score:0.05
[CombatArena] ExecuteMovement: ally_1 -> (9.477802, 0, -2.6218147)
[CombatArena] ExecuteMovement starting with action ID 16
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503689898,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (9.477802, 0, -12.621815) to (9.477802, 0, -2.6218147), distance: 10.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503689899,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503689899,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Move to (9.477802, 0, -2.6218147)","ability_id":"Move to (9.477802, 0, -2.6218147)"}
[COMBAT_LOG] {"ts":1770503693376,"event":"DECISION","unit":"ally_1","action":"Move","target":"(9.477802, 0, -2.6218147)","score":0.054991588,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Fighter -> Move (#5) score:0.05
[CombatArena] ExecuteMovement: ally_1 -> (9.477802, 0, -2.6218147)
[CombatArena] ExecuteMovement starting with action ID 17
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503693377,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (9.477802, 0, -2.6218147) to (9.477802, 0, -2.6218147), distance: 0.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503693378,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503693378,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Move to (9.477802, 0, -2.6218147)","ability_id":"Move to (9.477802, 0, -2.6218147)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.7s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.8701, elapsedSinceLastAction=0.5771, nextActionDelay=1.2976, actionsTaken=5, timelines=0, actor=ally_1(True), cooldown_check=0.5781<1.2976=True
[COMBAT_LOG] {"ts":1770503695113,"event":"DECISION","unit":"ally_1","action":"EndTurn","score":0.1071721,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Fighter -> EndTurn (#6) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503695114,"event":"STATE_CHANGE","reason":"ally_1 ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 3, Goblin
[COMBAT_LOG] {"ts":1770503695115,"event":"TURN_START","turn":10,"round":3,"unit":"enemy_1","unit_name":"Goblin","faction":"Hostile","hp":10,"max_hp":20,"ap":"Bonus | Reaction | Move:30/30","pos":[1,0,0]}
[COMBAT_LOG] {"ts":1770503695115,"event":"STATE_SNAPSHOT","turn":10,"round":3,"units":[{"id":"ally_1","name":"Fighter","faction":"Player","hp":50,"max_hp":50,"pos":[9.477802,0,-2.6218147],"alive":true},{"id":"ally_2","name":"Mage","faction":"Player","hp":30,"max_hp":30,"pos":[15.677666,0,-17.677671],"alive":true},{"id":"enemy_1","name":"Goblin","faction":"Hostile","hp":10,"max_hp":20,"pos":[1,0,0],"alive":true},{"id":"enemy_2","name":"Orc","faction":"Hostile","hp":35,"max_hp":35,"pos":[12.577734,0,-15.149743],"alive":true}]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503695116,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770503695117,"event":"STATE_CHANGE","reason":"Awaiting Goblin\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Goblin at (1, 0, 0)
[CombatArena] SelectCombatant called: enemy_1
[CombatArena] Selected: enemy_1
[CombatArena] Turn started: Goblin (AI)
[UIAwareAI] Turn started for Goblin (waited 6.98s total)
[COMBAT_LOG] {"ts":1770503695484,"event":"DECISION","unit":"enemy_1","action":"Attack","target":"ally_2","score":9.277376,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.3}}
[UIAwareAI] Goblin -> Attack (#1) score:9.28
[CombatArena] ExecuteAbility: enemy_1 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (23.0/1.5)
[COMBAT_LOG] {"ts":1770503695485,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[COMBAT_LOG] {"ts":1770503696671,"event":"DECISION","unit":"enemy_1","action":"Move","target":"(18.777597, 0, -20.2056)","score":1.9419553,"reason":"positioning","score_breakdown":{"positioning":1.92,"random":0.02}}
[UIAwareAI] Goblin -> Move (#2) score:1.94
[CombatArena] ExecuteMovement: enemy_1 -> (18.777597, 0, -20.2056)
[CombatArena] ExecuteMovement starting with action ID 18
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503696672,"event":"STATE_CHANGE","reason":"Goblin moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin moved from (1, 0, 0) to (18.777597, 0, -20.2056), distance: 26.9
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503696673,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503696673,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Move to (18.777597, 0, -20.2056)","ability_id":"Move to (18.777597, 0, -20.2056)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.4s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.8532, elapsedSinceLastAction=0.5872, nextActionDelay=0.9403, actionsTaken=2, timelines=0, actor=enemy_1(True), cooldown_check=0.5882<0.9403=True
[COMBAT_LOG] {"ts":1770503697987,"event":"DECISION","unit":"enemy_1","action":"Attack","target":"ally_2","score":9.277376,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.3}}
[UIAwareAI] Goblin -> Attack (#3) score:9.28
[CombatArena] ExecuteAbility: enemy_1 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (4.0/1.5)
[COMBAT_LOG] {"ts":1770503697988,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[COMBAT_LOG] {"ts":1770503699188,"event":"DECISION","unit":"enemy_1","action":"EndTurn","score":0.10703413,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Goblin -> EndTurn (#4) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503699189,"event":"STATE_CHANGE","reason":"enemy_1 ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 3, Mage
[COMBAT_LOG] {"ts":1770503699190,"event":"TURN_START","turn":11,"round":3,"unit":"ally_2","unit_name":"Mage","faction":"Player","hp":30,"max_hp":30,"ap":"Bonus | Reaction | Move:5/30","pos":[15.677666,0,-17.677671]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503699191,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770503699192,"event":"STATE_CHANGE","reason":"Awaiting Mage\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Mage at (15.677666, 0, -17.677671)
[CombatArena] SelectCombatant called: ally_2
[CombatArena] Selected: ally_2
[CombatArena] Turn started: Mage (Player)
[UIAwareAI] Turn started for Mage (waited 3.60s total)
[COMBAT_LOG] {"ts":1770503699459,"event":"DECISION","unit":"ally_2","action":"Disengage","score":4.1686425,"reason":"escape_threats","score_breakdown":{"escape_threats":4,"random":0.17}}
[UIAwareAI] Mage -> Disengage (#1) score:4.17
[UIAwareAI] Unhandled action type: Disengage
[COMBAT_LOG] {"ts":1770503699459,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":false,"description":"Disengage: not implemented","ability_id":"Disengage: not implemented"}
[COMBAT_LOG] {"ts":1770503700520,"event":"DECISION","unit":"ally_2","action":"Disengage","score":4.1686425,"reason":"escape_threats","score_breakdown":{"escape_threats":4,"random":0.17}}
[UIAwareAI] Mage -> Disengage (#2) score:4.17
[UIAwareAI] Unhandled action type: Disengage
[COMBAT_LOG] {"ts":1770503700520,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":false,"description":"Disengage: not implemented","ability_id":"Disengage: not implemented"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (1.3s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.5054, elapsedSinceLastAction=0.0375, nextActionDelay=1.3248, actionsTaken=2, timelines=0, actor=ally_2(True), cooldown_check=0.0385<1.3248=True
[COMBAT_LOG] {"ts":1770503701758,"event":"DECISION","unit":"ally_2","action":"Attack","target":"enemy_1","score":23.223541,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"random":1.57,"damage_value":1}}
[UIAwareAI] Mage -> Attack (#3) score:23.22
[CombatArena] ExecuteAbility: ally_2 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (4.0/1.5)
[COMBAT_LOG] {"ts":1770503701758,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[COMBAT_LOG] {"ts":1770503703011,"event":"DECISION","unit":"ally_2","action":"Attack","target":"enemy_1","score":23.223541,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"random":1.57,"damage_value":1}}
[UIAwareAI] Mage -> Attack (#4) score:23.22
[CombatArena] ExecuteAbility: ally_2 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (4.0/1.5)
[COMBAT_LOG] {"ts":1770503703012,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.9s remaining), isActing=False, hudReady=True, timeSinceStateChange=4.5323, elapsedSinceLastAction=0.3454, nextActionDelay=1.2930, actionsTaken=4, timelines=0, actor=ally_2(True), cooldown_check=0.3464<1.2930=True
[COMBAT_LOG] {"ts":1770503704233,"event":"DECISION","unit":"ally_2","action":"Move","target":"(44.193256, 0, -8.357743)","score":0.32935095,"reason":"positioning","score_breakdown":{"positioning":0.3,"random":0.03}}
[UIAwareAI] Mage -> Move (#5) score:0.33
[CombatArena] ExecuteMovement: ally_2 -> (44.193256, 0, -8.357743)
[CombatArena] ExecuteMovement starting with action ID 19
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503704234,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage moved from (15.677666, 0, -17.677671) to (44.193256, 0, -8.357743), distance: 30.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503704234,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503704234,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Move to (44.193256, 0, -8.357743)","ability_id":"Move to (44.193256, 0, -8.357743)"}
[COMBAT_LOG] {"ts":1770503705390,"event":"DECISION","unit":"ally_2","action":"Move","target":"(44.193256, 0, -8.357743)","score":0.32935095,"reason":"positioning","score_breakdown":{"positioning":0.3,"random":0.03}}
[UIAwareAI] Mage -> Move (#6) score:0.33
[CombatArena] ExecuteMovement: ally_2 -> (44.193256, 0, -8.357743)
[CombatArena] ExecuteMovement starting with action ID 20
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503705391,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage moved from (44.193256, 0, -8.357743) to (44.193256, 0, -8.357743), distance: 0.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503705392,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503705392,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Move to (44.193256, 0, -8.357743)","ability_id":"Move to (44.193256, 0, -8.357743)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.8s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.8079, elapsedSinceLastAction=0.5253, nextActionDelay=1.2811, actionsTaken=6, timelines=0, actor=ally_2(True), cooldown_check=0.5263<1.2811=True
[COMBAT_LOG] {"ts":1770503706819,"event":"DECISION","unit":"ally_2","action":"EndTurn","score":0.10406988,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Mage -> EndTurn (#7) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503706819,"event":"STATE_CHANGE","reason":"ally_2 ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 3, Orc
[COMBAT_LOG] {"ts":1770503706820,"event":"TURN_START","turn":12,"round":3,"unit":"enemy_2","unit_name":"Orc","faction":"Hostile","hp":35,"max_hp":35,"ap":"Bonus | Reaction | Move:6/30","pos":[12.577734,0,-15.149743]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503706821,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770503706821,"event":"STATE_CHANGE","reason":"Awaiting Orc\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Orc at (12.577734, 0, -15.149743)
[CombatArena] SelectCombatant called: enemy_2
[CombatArena] Selected: enemy_2
[CombatArena] Turn started: Orc (AI)
[UIAwareAI] Turn started for Orc (waited 8.05s total)
[COMBAT_LOG] {"ts":1770503707098,"event":"DECISION","unit":"enemy_2","action":"Attack","target":"ally_2","score":9.339944,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.36}}
[UIAwareAI] Orc -> Attack (#1) score:9.34
[CombatArena] ExecuteAbility: enemy_2 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (32.3/1.5)
[COMBAT_LOG] {"ts":1770503707098,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[COMBAT_LOG] {"ts":1770503708209,"event":"DECISION","unit":"enemy_2","action":"Move","target":"(12.577734, 0, -5.149743)","score":2.0726936,"reason":"positioning","score_breakdown":{"positioning":1.89,"random":0.19}}
[UIAwareAI] Orc -> Move (#2) score:2.07
[CombatArena] ExecuteMovement: enemy_2 -> (12.577734, 0, -5.149743)
[CombatArena] ExecuteMovement starting with action ID 21
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503708210,"event":"STATE_CHANGE","reason":"Orc moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc moved from (12.577734, 0, -15.149743) to (12.577734, 0, -5.149743), distance: 10.0
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503708210,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503708210,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Move to (12.577734, 0, -5.149743)","ability_id":"Move to (12.577734, 0, -5.149743)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.9s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.7416, elapsedSinceLastAction=0.4762, nextActionDelay=1.3695, actionsTaken=2, timelines=0, actor=enemy_2(True), cooldown_check=0.4772<1.3695=True
[COMBAT_LOG] {"ts":1770503709718,"event":"DECISION","unit":"enemy_2","action":"Attack","target":"ally_2","score":9.339944,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.36}}
[UIAwareAI] Orc -> Attack (#3) score:9.34
[CombatArena] ExecuteAbility: enemy_2 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (31.8/1.5)
[COMBAT_LOG] {"ts":1770503709719,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[COMBAT_LOG] {"ts":1770503710942,"event":"DECISION","unit":"enemy_2","action":"Move","target":"(28.077393, 0, -17.789387)","score":0.05473642,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Orc -> Move (#4) score:0.05
[CombatArena] ExecuteMovement: enemy_2 -> (28.077393, 0, -17.789387)
[CombatArena] ExecuteMovement starting with action ID 22
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503710942,"event":"STATE_CHANGE","reason":"Orc moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc moved from (12.577734, 0, -5.149743) to (28.077393, 0, -17.789387), distance: 20.0
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503710943,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503710943,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Move to (28.077393, 0, -17.789387)","ability_id":"Move to (28.077393, 0, -17.789387)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.6s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.7935, elapsedSinceLastAction=0.5008, nextActionDelay=1.1075, actionsTaken=4, timelines=0, actor=enemy_2(True), cooldown_check=0.5018<1.1075=True
[COMBAT_LOG] {"ts":1770503712241,"event":"DECISION","unit":"enemy_2","action":"Move","target":"(28.077393, 0, -17.789387)","score":0.05473642,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Orc -> Move (#5) score:0.05
[CombatArena] ExecuteMovement: enemy_2 -> (28.077393, 0, -17.789387)
[CombatArena] ExecuteMovement starting with action ID 23
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503712242,"event":"STATE_CHANGE","reason":"Orc moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc moved from (28.077393, 0, -17.789387) to (28.077393, 0, -17.789387), distance: 0.0
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503712243,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503712243,"event":"ACTION_RESULT","unit":"enemy_2","action":"Attack","score":0,"success":true,"description":"Move to (28.077393, 0, -17.789387)","ability_id":"Move to (28.077393, 0, -17.789387)"}
[COMBAT_LOG] {"ts":1770503713837,"event":"DECISION","unit":"enemy_2","action":"EndTurn","score":0.101478964,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Orc -> EndTurn (#6) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503713838,"event":"STATE_CHANGE","reason":"enemy_2 ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 4, Fighter
[COMBAT_LOG] {"ts":1770503713838,"event":"ROUND_END","round":3}
[COMBAT_LOG] {"ts":1770503713838,"event":"TURN_START","turn":13,"round":4,"unit":"ally_1","unit_name":"Fighter","faction":"Player","hp":50,"max_hp":50,"ap":"Bonus | Reaction | Move:3/30","pos":[9.477802,0,-2.6218147]}
[CombatArena] [STATE] TurnEnd -> RoundEnd
[COMBAT_LOG] {"ts":1770503713839,"event":"STATE_CHANGE","reason":"Round 3 ended","from_state":"TurnEnd","to_state":"RoundEnd"}
[UIAwareAI] State: TurnEnd -> RoundEnd
[CombatArena] [STATE] RoundEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503713840,"event":"STATE_CHANGE","reason":"Next turn","from_state":"RoundEnd","to_state":"TurnStart"}
[UIAwareAI] State: RoundEnd -> TurnStart
[CombatArena] Round 4: Reset reactions for all combatants
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770503713840,"event":"STATE_CHANGE","reason":"Awaiting Fighter\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Fighter at (9.477802, 0, -2.6218147)
[CombatArena] SelectCombatant called: ally_1
[CombatArena] Selected: ally_1
[CombatArena] Turn started: Fighter (Player)
[UIAwareAI] Turn started for Fighter (waited 7.44s total)
[COMBAT_LOG] {"ts":1770503714124,"event":"DECISION","unit":"ally_1","action":"Attack","target":"enemy_1","score":23.53754,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"random":1.89,"damage_value":1}}
[UIAwareAI] Fighter -> Attack (#1) score:23.54
[CombatArena] ExecuteAbility: ally_1 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (19.9/1.5)
[COMBAT_LOG] {"ts":1770503714124,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.9s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.6706, elapsedSinceLastAction=0.3629, nextActionDelay=1.2716, actionsTaken=1, timelines=0, actor=ally_1(True), cooldown_check=0.3639<1.2716=True
[COMBAT_LOG] {"ts":1770503715332,"event":"DECISION","unit":"ally_1","action":"Attack","target":"enemy_1","score":23.53754,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"random":1.89,"damage_value":1}}
[UIAwareAI] Fighter -> Attack (#2) score:23.54
[CombatArena] ExecuteAbility: ally_1 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (19.9/1.5)
[COMBAT_LOG] {"ts":1770503715332,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
[COMBAT_LOG] {"ts":1770503716319,"event":"DECISION","unit":"ally_1","action":"Move","target":"(24.97746, 0, -15.261458)","score":0.65706587,"reason":"positioning","score_breakdown":{"positioning":0.6,"random":0.06}}
[UIAwareAI] Fighter -> Move (#3) score:0.66
[CombatArena] ExecuteMovement: ally_1 -> (24.97746, 0, -15.261458)
[CombatArena] ExecuteMovement starting with action ID 24
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503716320,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (9.477802, 0, -2.6218147) to (24.97746, 0, -15.261458), distance: 20.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503716321,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503716321,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Move to (24.97746, 0, -15.261458)","ability_id":"Move to (24.97746, 0, -15.261458)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.1040, elapsedSinceLastAction=0.8357, nextActionDelay=0.9689, actionsTaken=3, timelines=0, actor=ally_1(True), cooldown_check=0.8367<0.9689=True
[COMBAT_LOG] {"ts":1770503717544,"event":"DECISION","unit":"ally_1","action":"Move","target":"(24.97746, 0, -15.261458)","score":0.65706587,"reason":"positioning","score_breakdown":{"positioning":0.6,"random":0.06}}
[UIAwareAI] Fighter -> Move (#4) score:0.66
[CombatArena] ExecuteMovement: ally_1 -> (24.97746, 0, -15.261458)
[CombatArena] ExecuteMovement starting with action ID 25
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503717545,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (24.97746, 0, -15.261458) to (24.97746, 0, -15.261458), distance: 0.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503717545,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770503717546,"event":"ACTION_RESULT","unit":"ally_1","action":"Attack","score":0,"success":true,"description":"Move to (24.97746, 0, -15.261458)","ability_id":"Move to (24.97746, 0, -15.261458)"}
[COMBAT_LOG] {"ts":1770503719242,"event":"DECISION","unit":"ally_1","action":"EndTurn","score":0.10247081,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Fighter -> EndTurn (#5) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503719243,"event":"STATE_CHANGE","reason":"ally_1 ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 4, Goblin
[COMBAT_LOG] {"ts":1770503719244,"event":"TURN_START","turn":14,"round":4,"unit":"enemy_1","unit_name":"Goblin","faction":"Hostile","hp":10,"max_hp":20,"ap":"Bonus | Reaction | Move:3/30","pos":[18.777597,0,-20.2056]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503719245,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770503719246,"event":"STATE_CHANGE","reason":"Awaiting Goblin\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Goblin at (18.777597, 0, -20.2056)
[CombatArena] SelectCombatant called: enemy_1
[CombatArena] Selected: enemy_1
[CombatArena] Turn started: Goblin (AI)
[UIAwareAI] Turn started for Goblin (waited 5.38s total)
[COMBAT_LOG] {"ts":1770503719539,"event":"DECISION","unit":"enemy_1","action":"Attack","target":"ally_2","score":9.7724495,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.8}}
[UIAwareAI] Goblin -> Attack (#1) score:9.77
[CombatArena] ExecuteAbility: enemy_1 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (28.0/1.5)
[COMBAT_LOG] {"ts":1770503719539,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.0s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.1295, elapsedSinceLastAction=0.8295, nextActionDelay=0.8752, actionsTaken=1, timelines=0, actor=enemy_1(True), cooldown_check=0.8305<0.8752=True
[COMBAT_LOG] {"ts":1770503720439,"event":"DECISION","unit":"enemy_1","action":"Move","target":"(21.87753, 0, -12.73353)","score":1.9904324,"reason":"positioning","score_breakdown":{"positioning":1.92,"random":0.07}}
[UIAwareAI] Goblin -> Move (#2) score:1.99
[CombatArena] ExecuteMovement: enemy_1 -> (21.87753, 0, -12.73353)
[CombatArena] ExecuteMovement starting with action ID 26
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503720440,"event":"STATE_CHANGE","reason":"Goblin moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin moved from (18.777597, 0, -20.2056) to (21.87753, 0, -12.73353), distance: 8.1
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503720440,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503720440,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Move to (21.87753, 0, -12.73353)","ability_id":"Move to (21.87753, 0, -12.73353)"}
[COMBAT_LOG] {"ts":1770503722198,"event":"DECISION","unit":"enemy_1","action":"Attack","target":"ally_2","score":9.7724495,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.8}}
[UIAwareAI] Goblin -> Attack (#3) score:9.77
[CombatArena] ExecuteAbility: enemy_1 -> basic_attack -> ally_2
[CombatArena] Cannot execute basic_attack: Target out of range (22.7/1.5)
[COMBAT_LOG] {"ts":1770503722198,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eally_2","ability_id":"Attack:basic_attack-\u003Eally_2"}
[COMBAT_LOG] {"ts":1770503723196,"event":"DECISION","unit":"enemy_1","action":"Move","target":"(36.48447, 0, -12.73353)","score":0.054870553,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Goblin -> Move (#4) score:0.05
[CombatArena] ExecuteMovement: enemy_1 -> (36.48447, 0, -12.73353)
[CombatArena] ExecuteMovement starting with action ID 27
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503723197,"event":"STATE_CHANGE","reason":"Goblin moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin moved from (21.87753, 0, -12.73353) to (36.48447, 0, -12.73353), distance: 14.6
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503723197,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503723197,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Move to (36.48447, 0, -12.73353)","ability_id":"Move to (36.48447, 0, -12.73353)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=state to settle (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.1643, elapsedSinceLastAction=0.0000, nextActionDelay=1.3464, actionsTaken=4, timelines=0, actor=enemy_1(True), cooldown_check=0.0010<1.3464=True
[COMBAT_LOG] {"ts":1770503725885,"event":"DECISION","unit":"enemy_1","action":"Move","target":"(36.48447, 0, -12.73353)","score":0.054870553,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Goblin -> Move (#5) score:0.05
[CombatArena] ExecuteMovement: enemy_1 -> (36.48447, 0, -12.73353)
[CombatArena] ExecuteMovement starting with action ID 28
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503725886,"event":"STATE_CHANGE","reason":"Goblin moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin moved from (36.48447, 0, -12.73353) to (36.48447, 0, -12.73353), distance: 0.0
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503725887,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503725887,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Move to (36.48447, 0, -12.73353)","ability_id":"Move to (36.48447, 0, -12.73353)"}
[COMBAT_LOG] {"ts":1770503727290,"event":"DECISION","unit":"enemy_1","action":"Move","target":"(29.181969, 0, -12.852445)","score":1.3018961,"reason":"positioning","score_breakdown":{"positioning":1.2,"random":0.1}}
[UIAwareAI] Goblin -> Move (#6) score:1.30
[CombatArena] ExecuteMovement: enemy_1 -> (29.181969, 0, -12.852445)
[CombatArena] ExecuteMovement starting with action ID 29
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503727291,"event":"STATE_CHANGE","reason":"Goblin moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin moved from (36.48447, 0, -12.73353) to (29.181969, 0, -12.852445), distance: 7.3
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503727291,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503727291,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Move to (29.181969, 0, -12.852445)","ability_id":"Move to (29.181969, 0, -12.852445)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=state to settle (0.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.1091, elapsedSinceLastAction=0.0000, nextActionDelay=0.8789, actionsTaken=6, timelines=0, actor=enemy_1(True), cooldown_check=0.0010<0.8789=True
[COMBAT_LOG] {"ts":1770503728486,"event":"DECISION","unit":"enemy_1","action":"Move","target":"(29.181969, 0, -12.852445)","score":1.3018961,"reason":"positioning","score_breakdown":{"positioning":1.2,"random":0.1}}
[UIAwareAI] Goblin -> Move (#7) score:1.30
[CombatArena] ExecuteMovement: enemy_1 -> (29.181969, 0, -12.852445)
[CombatArena] ExecuteMovement starting with action ID 30
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770503728487,"event":"STATE_CHANGE","reason":"Goblin moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin moved from (29.181969, 0, -12.852445) to (29.181969, 0, -12.852445), distance: 0.0
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503728488,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770503728488,"event":"ACTION_RESULT","unit":"enemy_1","action":"Attack","score":0,"success":true,"description":"Move to (29.181969, 0, -12.852445)","ability_id":"Move to (29.181969, 0, -12.852445)"}
[COMBAT_LOG] {"ts":1770503729685,"event":"DECISION","unit":"enemy_1","action":"EndTurn","score":0.106770806,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Goblin -> EndTurn (#8) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770503729686,"event":"STATE_CHANGE","reason":"enemy_1 ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 4, Mage
[COMBAT_LOG] {"ts":1770503729687,"event":"TURN_START","turn":15,"round":4,"unit":"ally_2","unit_name":"Mage","faction":"Player","hp":30,"max_hp":30,"ap":"Bonus | Reaction | Move:0/30","pos":[44.193256,0,-8.357743]}
[COMBAT_LOG] {"ts":1770503729687,"event":"STATE_SNAPSHOT","turn":15,"round":4,"units":[{"id":"ally_1","name":"Fighter","faction":"Player","hp":50,"max_hp":50,"pos":[24.97746,0,-15.261458],"alive":true},{"id":"ally_2","name":"Mage","faction":"Player","hp":30,"max_hp":30,"pos":[44.193256,0,-8.357743],"alive":true},{"id":"enemy_1","name":"Goblin","faction":"Hostile","hp":10,"max_hp":20,"pos":[29.181969,0,-12.852445],"alive":true},{"id":"enemy_2","name":"Orc","faction":"Hostile","hp":35,"max_hp":35,"pos":[28.077393,0,-17.789387],"alive":true}]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770503729688,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770503729689,"event":"STATE_CHANGE","reason":"Awaiting Mage\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Mage at (44.193256, 0, -8.357743)
[CombatArena] SelectCombatant called: ally_2
[CombatArena] Selected: ally_2
[CombatArena] Turn started: Mage (Player)
[UIAwareAI] Turn started for Mage (waited 9.17s total)
[COMBAT_LOG] {"ts":1770503730007,"event":"DECISION","unit":"ally_2","action":"Attack","target":"enemy_1","score":22.59248,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"damage_value":1,"random":0.94}}
[UIAwareAI] Mage -> Attack (#1) score:22.59
[CombatArena] ExecuteAbility: ally_2 -> basic_attack -> enemy_1
[CombatArena] Cannot execute basic_attack: Target out of range (15.7/1.5)
[COMBAT_LOG] {"ts":1770503730007,"event":"ACTION_RESULT","unit":"ally_2","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_1","ability_id":"Attack:basic_attack-\u003Eenemy_1"}
