Godot Engine v4.6.stable.mono.official.89cea1439 - https://godotengine.org

[ScenarioSelector] Found 20 scenarios
[CombatArena] === COMBAT ARENA INITIALIZING ===
[CombatArena] Ground collision plane created (100x100m at Y=0)
[CombatArena] CombatContext created
[CombatContext] Registered service: CombatStateMachine
[CombatContext] Registered service: TurnQueueService
[CombatContext] Registered service: CommandService
[CombatContext] Registered service: CombatLog
[CombatContext] Registered service: ScenarioLoader
[Registry] Loaded from /home/martin/repos/qdnd/Data:
  - 7 abilities
  - 6 statuses
  - 20 scenarios
[INFO] [Registry] Dependencies: Checked 7 abilities, 6 statuses, 20 scenarios
[Registry] Validation complete: 0 errors, 0 warnings
[CombatContext] Registered service: DataRegistry
[CombatContext] Registered service: RulesEngine
[CombatContext] Registered service: StatusManager
[CombatContext] Registered service: EffectPipeline
[CombatContext] Registered service: TargetValidator
[CombatContext] Registered service: ReactionSystem
[CombatContext] Registered service: LOSService
[CombatContext] Registered service: HeightService
[CombatContext] Registered service: AIDecisionPipeline
[CombatContext] Registered service: MovementService
[CombatContext] Registered service: SurfaceManager
[CombatContext] Registered service: PresentationRequestBus
[CombatContext] Registered service: CameraStateHooks
[CombatArena] UI Models initialized
[CombatArena] Services registered: 18
[CombatArena] Loaded scenario: 7 combatants
[CombatArena] Loaded scenario from: res://Data/Scenarios/siege_of_thornkeep.json
[CombatArena] Registered default abilities: basic_attack, ranged_attack, power_strike
[CombatArena] Instantiating visual from scene for Sir Aldric
[CombatantVisual] CollisionShape3D found for Sir Aldric
[CombatantVisual] Sir Aldric initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Sir Aldric at (0, 0, 0), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Elara Brightstaff
[CombatantVisual] CollisionShape3D found for Elara Brightstaff
[CombatantVisual] Elara Brightstaff initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Elara Brightstaff at (-3, 0, -2), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Varek Shadowbane
[CombatantVisual] CollisionShape3D found for Varek Shadowbane
[CombatantVisual] Varek Shadowbane initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Varek Shadowbane at (-1, 0, 2), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Warchief Grukk
[CombatantVisual] CollisionShape3D found for Warchief Grukk
[CombatantVisual] Warchief Grukk initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Warchief Grukk at (8, 0, 0), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Hobgoblin Berserker
[CombatantVisual] CollisionShape3D found for Hobgoblin Berserker
[CombatantVisual] Hobgoblin Berserker initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Hobgoblin Berserker at (7, 0, 3), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Hobgoblin Hexer
[CombatantVisual] CollisionShape3D found for Hobgoblin Hexer
[CombatantVisual] Hobgoblin Hexer initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Hobgoblin Hexer at (10, 0, -2), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Hobgoblin Scout
[CombatantVisual] CollisionShape3D found for Hobgoblin Scout
[CombatantVisual] Hobgoblin Scout initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Hobgoblin Scout at (6, 0, -1), Layer: 2, InTree: True
[CombatArena] [STATE] NotInCombat -> CombatStart
[CombatArena] [TURN] Round 1, Varek Shadowbane
[CombatArena] [STATE] CombatStart -> TurnStart
[CombatArena] Round 1: Reset reactions for all combatants
[CombatArena] [STATE] TurnStart -> PlayerDecision
[CombatArena] Camera focusing on Varek Shadowbane via hooks
[CombatArena] SelectCombatant called: ally_3
[CombatArena] Selected: ally_3
[CombatArena] Turn started: Varek Shadowbane (Player)
[CombatArena] === COMBAT ARENA READY ===
[CombatHUD] === NEW BG3-STYLE HUD SETUP ===
[CombatHUD] MouseFilter set to: Ignore
[CombatHUD] Top bar: (64, 70) at (0, 0)
[CombatHUD] Hotbar panel created
[CombatHUD] Created ability button 0 with MouseFilter: Stop
[CombatHUD] Created ability button 1 with MouseFilter: Stop
[CombatHUD] Created ability button 2 with MouseFilter: Stop
[CombatHUD] Created ability button 3 with MouseFilter: Stop
[CombatHUD] Created ability button 4 with MouseFilter: Stop
[CombatHUD] Created ability button 5 with MouseFilter: Stop
[CombatHUD] Created ability button 6 with MouseFilter: Stop
[CombatHUD] Created ability button 7 with MouseFilter: Stop
[CombatHUD] Created ability button 8 with MouseFilter: Stop
[CombatHUD] Created ability button 9 with MouseFilter: Stop
[CombatHUD] Created ability button 10 with MouseFilter: Stop
[CombatHUD] Created ability button 11 with MouseFilter: Stop
[CombatHUD] End Turn button created
[CombatHUD] Combat log panel created
[CombatHUD] Character portrait panel created
[RealtimeAIController] Ready
[RealtimeAIController] Subscribed to state machine
[RealtimeAIController] Attached to CombatArena
[CombatHUD] END TURN Debug:
  Position: (-68, -12)
  Size: (120, 60)
  GlobalPosition: (-68, -12)
  Visible: True
  IsInsideTree: True
  Anchors: L=1, R=1, T=1, B=1
  Offsets: L=-132, R=-12, T=-76, B=-16
[RealtimeAIController] Processing ENABLED
[CombatArena] Realtime AI autoplay ENABLED for all factions
[RealtimeAIController] Turn started for Varek Shadowbane
[RealtimeAIController] Varek Shadowbane -> Attack (#1) score:0.70
[CombatArena] ExecuteAbility: ally_3 -> basic_attack -> enemy_2
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[RealtimeAIController] State: PlayerDecision -> ActionExecution
[CombatArena] Varek Shadowbane used basic_attack on Hobgoblin Berserker: damage:6
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[RealtimeAIController] State: ActionExecution -> PlayerDecision
[RealtimeAIController] Varek Shadowbane -> Move (#2) score:0.65
[CombatArena] ExecuteMovement: ally_3 -> (-1, 0, -28)
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[RealtimeAIController] State: PlayerDecision -> ActionExecution
[CombatArena] Varek Shadowbane moved from (-1, 0, 2) to (-1, 0, -28), distance: 30.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[RealtimeAIController] State: ActionExecution -> PlayerDecision
[RealtimeAIController] Varek Shadowbane -> EndTurn (#3) score:0.10
[RealtimeAIController] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[RealtimeAIController] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Hobgoblin Scout
[CombatArena] [STATE] TurnEnd -> TurnStart
[RealtimeAIController] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[RealtimeAIController] State: TurnStart -> AIDecision
[CombatArena] Camera focusing on Hobgoblin Scout via hooks
[CombatArena] SelectCombatant called: enemy_4
[CombatArena] Selected: enemy_4
[CombatArena] Turn started: Hobgoblin Scout (AI)
[RealtimeAIController] Turn started for Hobgoblin Scout
[RealtimeAIController] Hobgoblin Scout -> Attack (#1) score:1.04
[CombatArena] ExecuteAbility: enemy_4 -> basic_attack -> ally_3
[CombatArena] [STATE] AIDecision -> ActionExecution
[RealtimeAIController] State: AIDecision -> ActionExecution
[CombatArena] Hobgoblin Scout used basic_attack on Varek Shadowbane: damage:3
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[RealtimeAIController] State: ActionExecution -> AIDecision
[RealtimeAIController] Hobgoblin Scout -> Move (#2) score:0.66
[CombatArena] ExecuteMovement: enemy_4 -> (-9, 0, 14)
[CombatArena] [STATE] AIDecision -> ActionExecution
[RealtimeAIController] State: AIDecision -> ActionExecution
[CombatArena] Hobgoblin Scout moved from (6, 0, -1) to (-9, 0, 14), distance: 21.2
[CombatArena] [STATE] ActionExecution -> AIDecision
[RealtimeAIController] State: ActionExecution -> AIDecision
[RealtimeAIController] Hobgoblin Scout -> Move (#3) score:0.65
[CombatArena] ExecuteMovement: enemy_4 -> (-17.786797, 0, 14)
[CombatArena] [STATE] AIDecision -> ActionExecution
[RealtimeAIController] State: AIDecision -> ActionExecution
[CombatArena] Hobgoblin Scout moved from (-9, 0, 14) to (-17.786797, 0, 14), distance: 8.8
[CombatArena] [STATE] ActionExecution -> AIDecision
[RealtimeAIController] State: ActionExecution -> AIDecision
[RealtimeAIController] Hobgoblin Scout -> EndTurn (#4) score:0.11
[RealtimeAIController] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[RealtimeAIController] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Sir Aldric
[CombatArena] [STATE] TurnEnd -> TurnStart
[RealtimeAIController] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[RealtimeAIController] State: TurnStart -> PlayerDecision
[CombatArena] Camera focusing on Sir Aldric via hooks
[CombatArena] SelectCombatant called: ally_1
[CombatArena] Selected: ally_1
[CombatArena] Turn started: Sir Aldric (Player)
[RealtimeAIController] Turn started for Sir Aldric
[RealtimeAIController] Sir Aldric -> Move (#1) score:1.20
[CombatArena] ExecuteMovement: ally_1 -> (-15, 0, 15)
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[RealtimeAIController] State: PlayerDecision -> ActionExecution
[CombatArena] Sir Aldric moved from (0, 0, 0) to (-15, 0, 15), distance: 21.2
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[RealtimeAIController] State: ActionExecution -> PlayerDecision
[RealtimeAIController] Sir Aldric -> Move (#2) score:1.28
[CombatArena] ExecuteMovement: ally_1 -> (-19.393398, 0, 15)
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[RealtimeAIController] State: PlayerDecision -> ActionExecution
[CombatArena] Sir Aldric moved from (-15, 0, 15) to (-19.393398, 0, 15), distance: 4.4
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[RealtimeAIController] State: ActionExecution -> PlayerDecision
[RealtimeAIController] Sir Aldric -> Move (#3) score:1.31
[CombatArena] ExecuteMovement: ally_1 -> (-19.393398, 0, 17.1967)
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[RealtimeAIController] State: PlayerDecision -> ActionExecution
[CombatArena] Sir Aldric moved from (-19.393398, 0, 15) to (-19.393398, 0, 17.1967), distance: 2.2
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[RealtimeAIController] State: ActionExecution -> PlayerDecision
[RealtimeAIController] Sir Aldric -> Dash (#4) score:3.22
[RealtimeAIController] Sir Aldric -> Move (#5) score:0.66
[CombatArena] ExecuteMovement: ally_1 -> (-19.393398, 0, 1.0983486)
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[RealtimeAIController] State: PlayerDecision -> ActionExecution
[CombatArena] Sir Aldric moved from (-19.393398, 0, 17.1967) to (-19.393398, 0, 1.0983486), distance: 16.1
