[0;32m[INFO][0m Using Godot: godot
[0;32m[INFO][0m Project dir: /home/martin/repos/qdnd
[0;32m[INFO][0m Running in FULL-FIDELITY mode (HUD, animations, visuals active)
[0;32m[INFO][0m Running auto-battle...
[0;36mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32m[INFO][0m Using existing display: :0
Godot Engine v4.6.stable.mono.official.89cea1439 - https://godotengine.org
Vulkan 1.4.305 - Forward+ - Using Device #0: Unknown - llvmpipe (LLVM 19.1.1, 256 bits)

[ScenarioSelector] Found 20 scenarios
[CombatArena] === COMBAT ARENA INITIALIZING ===
[DebugFlag] IsAutoBattle = True
[DebugFlag] IsFullFidelity = True
[DebugFlag] SkipAnimations = False
[CombatArena] Full-fidelity mode: HUD, animations, and visuals will run normally
[CombatArena] Auto-battle CLI mode detected
[CombatArena] Auto-battle scenario: res://Data/Scenarios/autobattle_4v4.json
[CombatArena] Auto-battle seed override: 42
[CombatArena] Ground collision plane created (100x100m at Y=0)
[CombatArena] CombatContext created
[CombatContext] Registered service: CombatStateMachine
[CombatContext] Registered service: TurnQueueService
[CombatContext] Registered service: CommandService
[CombatContext] Registered service: CombatLog
[CombatContext] Registered service: ScenarioLoader
[Registry] Loaded from /home/martin/repos/qdnd/Data:
  - 7 abilities
  - 6 statuses
  - 20 scenarios
[INFO] [Registry] Dependencies: Checked 7 abilities, 6 statuses, 20 scenarios
[Registry] Validation complete: 0 errors, 0 warnings
[CombatContext] Registered service: DataRegistry
[CombatContext] Registered service: RulesEngine
[CombatContext] Registered service: StatusManager
[CombatContext] Registered service: EffectPipeline
[CombatContext] Registered service: TargetValidator
[CombatContext] Registered service: ReactionSystem
[CombatContext] Registered service: LOSService
[CombatContext] Registered service: HeightService
[CombatContext] Registered service: AIDecisionPipeline
[CombatContext] Registered service: MovementService
[CombatContext] Registered service: SurfaceManager
[CombatContext] Registered service: PresentationRequestBus
[CombatContext] Registered service: CameraStateHooks
[CombatArena] UI Models initialized
[CombatArena] Services registered: 18
[CombatArena] Loaded scenario: 8 combatants
[CombatArena] Loaded scenario from: res://Data/Scenarios/autobattle_4v4.json
[CombatArena] Registered default abilities: basic_attack, ranged_attack, power_strike
[CombatArena] Instantiating visual from scene for Fighter
[CombatantVisual] CollisionShape3D found for Fighter
[CombatantVisual] Fighter initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Fighter at (0, 0, 0), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Mage
[CombatantVisual] CollisionShape3D found for Mage
[CombatantVisual] Mage initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Mage at (-3, 0, -1), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Cleric
[CombatantVisual] CollisionShape3D found for Cleric
[CombatantVisual] Cleric initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Cleric at (-1, 0, -3), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Rogue
[CombatantVisual] CollisionShape3D found for Rogue
[CombatantVisual] Rogue initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Rogue at (2, 0, -2), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Orc Brute
[CombatantVisual] CollisionShape3D found for Orc Brute
[CombatantVisual] Orc Brute initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Orc Brute at (8, 0, 0), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Orc Archer
[CombatantVisual] CollisionShape3D found for Orc Archer
[CombatantVisual] Orc Archer initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Orc Archer at (10, 0, 2), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Goblin Skirmisher
[CombatantVisual] CollisionShape3D found for Goblin Skirmisher
[CombatantVisual] Goblin Skirmisher initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Goblin Skirmisher at (7, 0, 3), Layer: 2, InTree: True
[CombatArena] Instantiating visual from scene for Goblin Shaman
[CombatantVisual] CollisionShape3D found for Goblin Shaman
[CombatantVisual] Goblin Shaman initialized - Layer: 2, Mask: 0, Pickable: True, HasShape: True
[CombatArena] Spawned visual for Goblin Shaman at (10, 0, -1), Layer: 2, InTree: True
[AutoBattleWatchdog] Ready
[COMBAT_LOG] {"ts":1770504379373,"event":"BATTLE_START","seed":1234,"units":[{"id":"player_fighter","name":"Fighter","faction":"Player","hp":52,"max_hp":52,"pos":[0,0,0],"alive":true},{"id":"player_mage","name":"Mage","faction":"Player","hp":32,"max_hp":32,"pos":[-3,0,-1],"alive":true},{"id":"player_cleric","name":"Cleric","faction":"Player","hp":44,"max_hp":44,"pos":[-1,0,-3],"alive":true},{"id":"player_rogue","name":"Rogue","faction":"Player","hp":36,"max_hp":36,"pos":[2,0,-2],"alive":true},{"id":"enemy_orc_brute","name":"Orc Brute","faction":"Hostile","hp":48,"max_hp":48,"pos":[8,0,0],"alive":true},{"id":"enemy_orc_archer","name":"Orc Archer","faction":"Hostile","hp":30,"max_hp":30,"pos":[10,0,2],"alive":true},{"id":"enemy_goblin","name":"Goblin Skirmisher","faction":"Hostile","hp":22,"max_hp":22,"pos":[7,0,3],"alive":true},{"id":"enemy_shaman","name":"Goblin Shaman","faction":"Hostile","hp":28,"max_hp":28,"pos":[10,0,-1],"alive":true}]}
[AutoBattleWatchdog] Monitoring STARTED (freeze: 20s, loop: 20 in 1s)
[AutoBattleRuntime] Monitoring started (seed=1234, scenario=res://Data/Scenarios/autobattle_4v4.json)
[CombatArena] [STATE] NotInCombat -> CombatStart
[COMBAT_LOG] {"ts":1770504379398,"event":"STATE_CHANGE","reason":"Combat initiated","from_state":"NotInCombat","to_state":"CombatStart"}
[CombatArena] [TURN] Round 1, Rogue
[COMBAT_LOG] {"ts":1770504379401,"event":"TURN_START","turn":1,"round":1,"unit":"player_rogue","unit_name":"Rogue","faction":"Player","hp":36,"max_hp":36,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[2,0,-2]}
[COMBAT_LOG] {"ts":1770504379401,"event":"STATE_SNAPSHOT","turn":1,"round":1,"units":[{"id":"player_fighter","name":"Fighter","faction":"Player","hp":52,"max_hp":52,"pos":[0,0,0],"alive":true},{"id":"player_mage","name":"Mage","faction":"Player","hp":32,"max_hp":32,"pos":[-3,0,-1],"alive":true},{"id":"player_cleric","name":"Cleric","faction":"Player","hp":44,"max_hp":44,"pos":[-1,0,-3],"alive":true},{"id":"player_rogue","name":"Rogue","faction":"Player","hp":36,"max_hp":36,"pos":[2,0,-2],"alive":true},{"id":"enemy_orc_brute","name":"Orc Brute","faction":"Hostile","hp":48,"max_hp":48,"pos":[8,0,0],"alive":true},{"id":"enemy_orc_archer","name":"Orc Archer","faction":"Hostile","hp":30,"max_hp":30,"pos":[10,0,2],"alive":true},{"id":"enemy_goblin","name":"Goblin Skirmisher","faction":"Hostile","hp":22,"max_hp":22,"pos":[7,0,3],"alive":true},{"id":"enemy_shaman","name":"Goblin Shaman","faction":"Hostile","hp":28,"max_hp":28,"pos":[10,0,-1],"alive":true}]}
[CombatArena] [STATE] CombatStart -> TurnStart
[COMBAT_LOG] {"ts":1770504379403,"event":"STATE_CHANGE","reason":"First turn","from_state":"CombatStart","to_state":"TurnStart"}
[CombatArena] Round 1: Reset reactions for all combatants
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504379406,"event":"STATE_CHANGE","reason":"Awaiting Rogue\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[CombatArena] Camera panning to Rogue at (2, 0, -2)
[CombatArena] SelectCombatant called: player_rogue
[CombatArena] Selected: player_rogue
[CombatArena] Turn started: Rogue (Player)
[CombatArena] === COMBAT ARENA READY ===
[CombatHUD] DeferredInit called - _disposed=False, IsValid=True, InTree=True
[CombatHUD] DeferredInit proceeding with setup
[CombatHUD] === NEW BG3-STYLE HUD SETUP ===
[CombatHUD] MouseFilter set to: Ignore
[CombatHUD] Top bar: (1152, 70) at (0, 0)
[CombatHUD] Hotbar panel created
[CombatHUD] Created ability button 0 with MouseFilter: Stop
[CombatHUD] Created ability button 1 with MouseFilter: Stop
[CombatHUD] Created ability button 2 with MouseFilter: Stop
[CombatHUD] Created ability button 3 with MouseFilter: Stop
[CombatHUD] Created ability button 4 with MouseFilter: Stop
[CombatHUD] Created ability button 5 with MouseFilter: Stop
[CombatHUD] Created ability button 6 with MouseFilter: Stop
[CombatHUD] Created ability button 7 with MouseFilter: Stop
[CombatHUD] Created ability button 8 with MouseFilter: Stop
[CombatHUD] Created ability button 9 with MouseFilter: Stop
[CombatHUD] Created ability button 10 with MouseFilter: Stop
[CombatHUD] Created ability button 11 with MouseFilter: Stop
[CombatHUD] End Turn button created
[CombatHUD] Combat log panel created
[CombatHUD] Character portrait panel created
[UIAwareAI] Ready
[UIAwareAI] Subscribed to state machine
[UIAwareAI] Attached to CombatArena
[CombatHUD] END TURN Debug:
  Position: (1020, 572)
  Size: (120, 60)
  GlobalPosition: (1020, 572)
  Visible: True
  IsInsideTree: True
  Anchors: L=1, R=1, T=1, B=1
  Offsets: L=-132, R=-12, T=-76, B=-16
[UIAwareAI] Processing ENABLED
[CombatArena] UI-aware AI autoplay ENABLED for all factions (full-fidelity mode)
[UIAwareAI] HUD components verified
[UIAwareAI] HUD is ready
[AutoBattleRuntime] Connected to UIAwareAIController events (deferred)
[UIAwareAI] Turn started for Rogue (waited 1.70s total)
[COMBAT_LOG] {"ts":1770504382978,"event":"DECISION","unit":"player_rogue","action":"Move","target":"(6.86158, 0, -0.37947333)","score":0.98155916,"reason":"positioning","score_breakdown":{"positioning":0.9,"random":0.08}}
[UIAwareAI] Rogue -> Move (#1) score:0.98
[CombatArena] ExecuteMovement: player_rogue -> (6.86158, 0, -0.37947333)
[CombatArena] ExecuteMovement starting with action ID 1
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504382981,"event":"STATE_CHANGE","reason":"Rogue moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Rogue moved from (2, 0, -2) to (6.86158, 0, -0.37947333), distance: 5.1
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504382986,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504382987,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Move to (6.86158, 0, -0.37947333)","ability_id":"Move to (6.86158, 0, -0.37947333)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.6s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.7610, elapsedSinceLastAction=0.4662, nextActionDelay=1.0481, actionsTaken=1, timelines=0, actor=player_rogue(True), cooldown_check=0.4672<1.0481=True
[COMBAT_LOG] {"ts":1770504384289,"event":"DECISION","unit":"player_rogue","action":"Move","target":"(6.86158, 0, -0.37947333)","score":0.98155916,"reason":"positioning","score_breakdown":{"positioning":0.9,"random":0.08}}
[UIAwareAI] Rogue -> Move (#2) score:0.98
[CombatArena] ExecuteMovement: player_rogue -> (6.86158, 0, -0.37947333)
[CombatArena] ExecuteMovement starting with action ID 2
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504384289,"event":"STATE_CHANGE","reason":"Rogue moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504384290,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504384290,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Move to (6.86158, 0, -0.37947333)","ability_id":"Move to (6.86158, 0, -0.37947333)"}
[COMBAT_LOG] {"ts":1770504385675,"event":"DECISION","unit":"player_rogue","action":"Move","target":"(-10.077112, 0, -18.59673)","score":0.05414419,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Rogue -> Move (#3) score:0.05
[CombatArena] ExecuteMovement: player_rogue -> (-10.077112, 0, -18.59673)
[CombatArena] ExecuteMovement starting with action ID 3
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504385676,"event":"STATE_CHANGE","reason":"Rogue moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Rogue moved from (6.86158, 0, -0.37947333) to (-10.077112, 0, -18.59673), distance: 24.9
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504385679,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504385679,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Move to (-10.077112, 0, -18.59673)","ability_id":"Move to (-10.077112, 0, -18.59673)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.6s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.9800, elapsedSinceLastAction=0.7090, nextActionDelay=1.2804, actionsTaken=3, timelines=0, actor=player_rogue(True), cooldown_check=0.7100<1.2804=True
[COMBAT_LOG] {"ts":1770504387172,"event":"DECISION","unit":"player_rogue","action":"Move","target":"(-10.077112, 0, -18.59673)","score":0.05414419,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Rogue -> Move (#4) score:0.05
[CombatArena] ExecuteMovement: player_rogue -> (-10.077112, 0, -18.59673)
[CombatArena] ExecuteMovement starting with action ID 4
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504387173,"event":"STATE_CHANGE","reason":"Rogue moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504387174,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504387174,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Move to (-10.077112, 0, -18.59673)","ability_id":"Move to (-10.077112, 0, -18.59673)"}
[COMBAT_LOG] {"ts":1770504388278,"event":"DECISION","unit":"player_rogue","action":"EndTurn","score":0.100345396,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Rogue -> EndTurn (#5) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504388279,"event":"STATE_CHANGE","reason":"player_rogue ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Goblin Skirmisher
[COMBAT_LOG] {"ts":1770504388283,"event":"TURN_START","turn":2,"round":1,"unit":"enemy_goblin","unit_name":"Goblin Skirmisher","faction":"Hostile","hp":22,"max_hp":22,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[7,0,3]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504388285,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504388286,"event":"STATE_CHANGE","reason":"Awaiting Goblin Skirmisher\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Goblin Skirmisher at (7, 0, 3)
[CombatArena] SelectCombatant called: enemy_goblin
[CombatArena] Selected: enemy_goblin
[CombatArena] Turn started: Goblin Skirmisher (AI)
[UIAwareAI] Turn started for Goblin Skirmisher (waited 5.55s total)
[COMBAT_LOG] {"ts":1770504388555,"event":"DECISION","unit":"enemy_goblin","action":"Move","target":"(-0.03999996, 0, -2.28)","score":1.6480533,"reason":"positioning","score_breakdown":{"positioning":1.5,"random":0.15}}
[UIAwareAI] Goblin Skirmisher -> Move (#1) score:1.65
[CombatArena] ExecuteMovement: enemy_goblin -> (-0.03999996, 0, -2.28)
[CombatArena] ExecuteMovement starting with action ID 5
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504388556,"event":"STATE_CHANGE","reason":"Goblin Skirmisher moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin Skirmisher moved from (7, 0, 3) to (-0.03999996, 0, -2.28), distance: 8.8
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504388557,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504388557,"event":"ACTION_RESULT","unit":"enemy_goblin","action":"Attack","score":0,"success":true,"description":"Move to (-0.03999996, 0, -2.28)","ability_id":"Move to (-0.03999996, 0, -2.28)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.5s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.9700, elapsedSinceLastAction=0.7005, nextActionDelay=1.2351, actionsTaken=1, timelines=0, actor=enemy_goblin(True), cooldown_check=0.7015<1.2351=True
[COMBAT_LOG] {"ts":1770504390066,"event":"DECISION","unit":"enemy_goblin","action":"Move","target":"(-0.03999996, 0, -2.28)","score":1.6480533,"reason":"positioning","score_breakdown":{"positioning":1.5,"random":0.15}}
[UIAwareAI] Goblin Skirmisher -> Move (#2) score:1.65
[CombatArena] ExecuteMovement: enemy_goblin -> (-0.03999996, 0, -2.28)
[CombatArena] ExecuteMovement starting with action ID 6
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504390067,"event":"STATE_CHANGE","reason":"Goblin Skirmisher moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504390067,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504390067,"event":"ACTION_RESULT","unit":"enemy_goblin","action":"Attack","score":0,"success":true,"description":"Move to (-0.03999996, 0, -2.28)","ability_id":"Move to (-0.03999996, 0, -2.28)"}
[COMBAT_LOG] {"ts":1770504391702,"event":"DECISION","unit":"enemy_goblin","action":"Attack","target":"player_cleric","score":0.9881839,"reason":"damage_value","score_breakdown":{"damage_value":1.5,"random":0.01}}
[UIAwareAI] Goblin Skirmisher -> Attack (#3) score:0.99
[CombatArena] ExecuteAbility: enemy_goblin -> basic_attack -> player_cleric
[CombatArena] ExecuteAbility starting with action ID 7
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504391705,"event":"STATE_CHANGE","reason":"Goblin Skirmisher using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin Skirmisher used basic_attack on Cleric: damage:8
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504391721,"event":"ACTION_RESULT","unit":"enemy_goblin","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_cleric","ability_id":"Attack:basic_attack-\u003Eplayer_cleric"}
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504392315,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 7 vs executing -1): Ability timeline timeout fallback
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=state to settle (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.2333, elapsedSinceLastAction=0.0000, nextActionDelay=1.2512, actionsTaken=3, timelines=0, actor=enemy_goblin(True), cooldown_check=0.0010<1.2512=True
[COMBAT_LOG] {"ts":1770504393760,"event":"DECISION","unit":"enemy_goblin","action":"Attack","target":"player_cleric","score":0.9881839,"reason":"damage_value","score_breakdown":{"damage_value":1.5,"random":0.01}}
[UIAwareAI] Goblin Skirmisher -> Attack (#4) score:0.99
[CombatArena] ExecuteAbility: enemy_goblin -> basic_attack -> player_cleric
[CombatArena] ExecuteAbility starting with action ID 8
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504393761,"event":"STATE_CHANGE","reason":"Goblin Skirmisher using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504393762,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504393762,"event":"ACTION_RESULT","unit":"enemy_goblin","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_cleric","ability_id":"Attack:basic_attack-\u003Eplayer_cleric"}
[COMBAT_LOG] {"ts":1770504394828,"event":"DECISION","unit":"enemy_goblin","action":"EndTurn","score":0.10186708,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Goblin Skirmisher -> EndTurn (#5) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504394829,"event":"STATE_CHANGE","reason":"enemy_goblin ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Fighter
[COMBAT_LOG] {"ts":1770504394829,"event":"TURN_START","turn":3,"round":1,"unit":"player_fighter","unit_name":"Fighter","faction":"Player","hp":52,"max_hp":52,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[0,0,0]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504394832,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504394834,"event":"STATE_CHANGE","reason":"Awaiting Fighter\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Fighter at (0, 0, 0)
[CombatArena] SelectCombatant called: player_fighter
[CombatArena] Selected: player_fighter
[CombatArena] Turn started: Fighter (Player)
[UIAwareAI] Turn started for Fighter (waited 6.50s total)
[COMBAT_LOG] {"ts":1770504395158,"event":"DECISION","unit":"player_fighter","action":"Move","target":"(0.9200001, 0, -1.56)","score":0.6317897,"reason":"positioning","score_breakdown":{"positioning":0.6,"random":0.03}}
[UIAwareAI] Fighter -> Move (#1) score:0.63
[CombatArena] ExecuteMovement: player_fighter -> (0.9200001, 0, -1.56)
[CombatArena] ExecuteMovement starting with action ID 9
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504395159,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (0, 0, 0) to (0.9200001, 0, -1.56), distance: 1.8
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504395160,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504395160,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Move to (0.9200001, 0, -1.56)","ability_id":"Move to (0.9200001, 0, -1.56)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=state to settle (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.2359, elapsedSinceLastAction=0.0000, nextActionDelay=1.3839, actionsTaken=1, timelines=0, actor=player_fighter(True), cooldown_check=0.0010<1.3839=True
[COMBAT_LOG] {"ts":1770504396806,"event":"DECISION","unit":"player_fighter","action":"Move","target":"(0.9200001, 0, -1.56)","score":0.6317897,"reason":"positioning","score_breakdown":{"positioning":0.6,"random":0.03}}
[UIAwareAI] Fighter -> Move (#2) score:0.63
[CombatArena] ExecuteMovement: player_fighter -> (0.9200001, 0, -1.56)
[CombatArena] ExecuteMovement starting with action ID 10
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504396807,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504396808,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504396808,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Move to (0.9200001, 0, -1.56)","ability_id":"Move to (0.9200001, 0, -1.56)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.0s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.5368, elapsedSinceLastAction=1.2718, nextActionDelay=1.2802, actionsTaken=2, timelines=0, actor=player_fighter(True), cooldown_check=1.2728<1.2802=True
[COMBAT_LOG] {"ts":1770504398345,"event":"DECISION","unit":"player_fighter","action":"Attack","target":"enemy_goblin","score":0.6988939,"reason":"damage_value","score_breakdown":{"damage_value":1,"random":0.05}}
[UIAwareAI] Fighter -> Attack (#3) score:0.70
[CombatArena] ExecuteAbility: player_fighter -> basic_attack -> enemy_goblin
[CombatArena] ExecuteAbility starting with action ID 11
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504398346,"event":"STATE_CHANGE","reason":"Fighter using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter used basic_attack on Goblin Skirmisher: damage:4
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504398347,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_goblin","ability_id":"Attack:basic_attack-\u003Eenemy_goblin"}
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504398986,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[CombatArena] Ignoring stale callback (action 11 vs executing -1): Ability timeline timeout fallback
[COMBAT_LOG] {"ts":1770504400315,"event":"DECISION","unit":"player_fighter","action":"Attack","target":"enemy_goblin","score":0.6988939,"reason":"damage_value","score_breakdown":{"damage_value":1,"random":0.05}}
[UIAwareAI] Fighter -> Attack (#4) score:0.70
[CombatArena] ExecuteAbility: player_fighter -> basic_attack -> enemy_goblin
[CombatArena] ExecuteAbility starting with action ID 12
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504400316,"event":"STATE_CHANGE","reason":"Fighter using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504400317,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504400317,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_goblin","ability_id":"Attack:basic_attack-\u003Eenemy_goblin"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.7s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.9626, elapsedSinceLastAction=0.6959, nextActionDelay=1.3750, actionsTaken=4, timelines=0, actor=player_fighter(True), cooldown_check=0.6969<1.3750=True
[COMBAT_LOG] {"ts":1770504401932,"event":"DECISION","unit":"player_fighter","action":"EndTurn","score":0.10657243,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Fighter -> EndTurn (#5) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504401933,"event":"STATE_CHANGE","reason":"player_fighter ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Orc Archer
[COMBAT_LOG] {"ts":1770504401933,"event":"TURN_START","turn":4,"round":1,"unit":"enemy_orc_archer","unit_name":"Orc Archer","faction":"Hostile","hp":30,"max_hp":30,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[10,0,2]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504401935,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504401936,"event":"STATE_CHANGE","reason":"Awaiting Orc Archer\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Orc Archer at (10, 0, 2)
[CombatArena] SelectCombatant called: enemy_orc_archer
[CombatArena] Selected: enemy_orc_archer
[CombatArena] Turn started: Orc Archer (AI)
[UIAwareAI] Turn started for Orc Archer (waited 7.03s total)
[COMBAT_LOG] {"ts":1770504402285,"event":"DECISION","unit":"enemy_orc_archer","action":"Move","target":"(-1.96, 0, -3.72)","score":2.3969183,"reason":"positioning","score_breakdown":{"positioning":2.22,"random":0.18}}
[UIAwareAI] Orc Archer -> Move (#1) score:2.40
[CombatArena] ExecuteMovement: enemy_orc_archer -> (-1.96, 0, -3.72)
[CombatArena] ExecuteMovement starting with action ID 13
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504402286,"event":"STATE_CHANGE","reason":"Orc Archer moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Archer moved from (10, 0, 2) to (-1.96, 0, -3.72), distance: 13.3
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504402287,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504402287,"event":"ACTION_RESULT","unit":"enemy_orc_archer","action":"Attack","score":0,"success":true,"description":"Move to (-1.96, 0, -3.72)","ability_id":"Move to (-1.96, 0, -3.72)"}
[COMBAT_LOG] {"ts":1770504403791,"event":"DECISION","unit":"enemy_orc_archer","action":"Move","target":"(-1.96, 0, -3.72)","score":2.3969183,"reason":"positioning","score_breakdown":{"positioning":2.22,"random":0.18}}
[UIAwareAI] Orc Archer -> Move (#2) score:2.40
[CombatArena] ExecuteMovement: enemy_orc_archer -> (-1.96, 0, -3.72)
[CombatArena] ExecuteMovement starting with action ID 14
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504403793,"event":"STATE_CHANGE","reason":"Orc Archer moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504403793,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504403793,"event":"ACTION_RESULT","unit":"enemy_orc_archer","action":"Attack","score":0,"success":true,"description":"Move to (-1.96, 0, -3.72)","ability_id":"Move to (-1.96, 0, -3.72)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (1.0s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.3707, elapsedSinceLastAction=0.0788, nextActionDelay=1.0307, actionsTaken=2, timelines=0, actor=enemy_orc_archer(True), cooldown_check=0.0798<1.0307=True
[COMBAT_LOG] {"ts":1770504406199,"event":"DECISION","unit":"enemy_orc_archer","action":"Attack","target":"player_cleric","score":9.773612,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.8}}
[UIAwareAI] Orc Archer -> Attack (#3) score:9.77
[CombatArena] ExecuteAbility: enemy_orc_archer -> basic_attack -> player_cleric
[CombatArena] ExecuteAbility starting with action ID 15
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504406200,"event":"STATE_CHANGE","reason":"Orc Archer using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Archer used basic_attack on Cleric: damage:4
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504406200,"event":"ACTION_RESULT","unit":"enemy_orc_archer","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_cleric","ability_id":"Attack:basic_attack-\u003Eplayer_cleric"}
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504406750,"event":"STATE_CHANGE","reason":"Ability timeline timeout fallback","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 15 vs executing -1): Ability timeline completed
[COMBAT_LOG] {"ts":1770504408206,"event":"DECISION","unit":"enemy_orc_archer","action":"Attack","target":"player_cleric","score":9.773612,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.8}}
[UIAwareAI] Orc Archer -> Attack (#4) score:9.77
[CombatArena] ExecuteAbility: enemy_orc_archer -> basic_attack -> player_cleric
[CombatArena] ExecuteAbility starting with action ID 16
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504408208,"event":"STATE_CHANGE","reason":"Orc Archer using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504408209,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504408209,"event":"ACTION_RESULT","unit":"enemy_orc_archer","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_cleric","ability_id":"Attack:basic_attack-\u003Eplayer_cleric"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=state to settle (0.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.1000, elapsedSinceLastAction=0.0000, nextActionDelay=1.3644, actionsTaken=4, timelines=0, actor=enemy_orc_archer(True), cooldown_check=0.0010<1.3644=True
[COMBAT_LOG] {"ts":1770504409838,"event":"DECISION","unit":"enemy_orc_archer","action":"EndTurn","score":0.10404254,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Orc Archer -> EndTurn (#5) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504409840,"event":"STATE_CHANGE","reason":"enemy_orc_archer ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Goblin Shaman
[COMBAT_LOG] {"ts":1770504409841,"event":"TURN_START","turn":5,"round":1,"unit":"enemy_shaman","unit_name":"Goblin Shaman","faction":"Hostile","hp":28,"max_hp":28,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[10,0,-1]}
[COMBAT_LOG] {"ts":1770504409841,"event":"STATE_SNAPSHOT","turn":5,"round":1,"units":[{"id":"player_fighter","name":"Fighter","faction":"Player","hp":52,"max_hp":52,"pos":[0.9200001,0,-1.56],"alive":true},{"id":"player_mage","name":"Mage","faction":"Player","hp":32,"max_hp":32,"pos":[-3,0,-1],"alive":true},{"id":"player_cleric","name":"Cleric","faction":"Player","hp":32,"max_hp":44,"pos":[-1,0,-3],"alive":true},{"id":"player_rogue","name":"Rogue","faction":"Player","hp":36,"max_hp":36,"pos":[-10.077112,0,-18.59673],"alive":true},{"id":"enemy_orc_brute","name":"Orc Brute","faction":"Hostile","hp":48,"max_hp":48,"pos":[8,0,0],"alive":true},{"id":"enemy_orc_archer","name":"Orc Archer","faction":"Hostile","hp":30,"max_hp":30,"pos":[-1.96,0,-3.72],"alive":true},{"id":"enemy_goblin","name":"Goblin Skirmisher","faction":"Hostile","hp":18,"max_hp":22,"pos":[-0.03999996,0,-2.28],"alive":true},{"id":"enemy_shaman","name":"Goblin Shaman","faction":"Hostile","hp":28,"max_hp":28,"pos":[10,0,-1],"alive":true}]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504409846,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504409847,"event":"STATE_CHANGE","reason":"Awaiting Goblin Shaman\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Goblin Shaman at (10, 0, -1)
[CombatArena] SelectCombatant called: enemy_shaman
[CombatArena] Selected: enemy_shaman
[CombatArena] Turn started: Goblin Shaman (AI)
[UIAwareAI] Turn started for Goblin Shaman (waited 6.53s total)
[COMBAT_LOG] {"ts":1770504410139,"event":"DECISION","unit":"enemy_shaman","action":"Move","target":"(2.1177244, 0, -1.4861314)","score":2.4060163,"reason":"positioning","score_breakdown":{"positioning":2.22,"random":0.19}}
[UIAwareAI] Goblin Shaman -> Move (#1) score:2.41
[CombatArena] ExecuteMovement: enemy_shaman -> (2.1177244, 0, -1.4861314)
[CombatArena] ExecuteMovement starting with action ID 17
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504410140,"event":"STATE_CHANGE","reason":"Goblin Shaman moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin Shaman moved from (10, 0, -1) to (2.1177244, 0, -1.4861314), distance: 7.9
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504410140,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504410141,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Move to (2.1177244, 0, -1.4861314)","ability_id":"Move to (2.1177244, 0, -1.4861314)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.1392, elapsedSinceLastAction=0.8786, nextActionDelay=0.9953, actionsTaken=1, timelines=0, actor=enemy_shaman(True), cooldown_check=0.8796<0.9953=True
[COMBAT_LOG] {"ts":1770504411337,"event":"DECISION","unit":"enemy_shaman","action":"Move","target":"(2.1177244, 0, -1.4861314)","score":2.4060163,"reason":"positioning","score_breakdown":{"positioning":2.22,"random":0.19}}
[UIAwareAI] Goblin Shaman -> Move (#2) score:2.41
[CombatArena] ExecuteMovement: enemy_shaman -> (2.1177244, 0, -1.4861314)
[CombatArena] ExecuteMovement starting with action ID 18
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504411338,"event":"STATE_CHANGE","reason":"Goblin Shaman moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504411339,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504411339,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Move to (2.1177244, 0, -1.4861314)","ability_id":"Move to (2.1177244, 0, -1.4861314)"}
[COMBAT_LOG] {"ts":1770504412729,"event":"DECISION","unit":"enemy_shaman","action":"Attack","target":"player_fighter","score":1.0037283,"reason":"damage_value","score_breakdown":{"damage_value":1.5,"random":0.03}}
[UIAwareAI] Goblin Shaman -> Attack (#3) score:1.00
[CombatArena] ExecuteAbility: enemy_shaman -> basic_attack -> player_fighter
[CombatArena] ExecuteAbility starting with action ID 19
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504412730,"event":"STATE_CHANGE","reason":"Goblin Shaman using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin Shaman used basic_attack on Fighter: damage:7
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504412730,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_fighter","ability_id":"Attack:basic_attack-\u003Eplayer_fighter"}
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504413336,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 19 vs executing -1): Ability timeline timeout fallback
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.7s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.8000, elapsedSinceLastAction=0.5500, nextActionDelay=1.2783, actionsTaken=3, timelines=0, actor=enemy_shaman(True), cooldown_check=0.5510<1.2783=True
[COMBAT_LOG] {"ts":1770504414773,"event":"DECISION","unit":"enemy_shaman","action":"Attack","target":"player_fighter","score":1.0037283,"reason":"damage_value","score_breakdown":{"damage_value":1.5,"random":0.03}}
[UIAwareAI] Goblin Shaman -> Attack (#4) score:1.00
[CombatArena] ExecuteAbility: enemy_shaman -> basic_attack -> player_fighter
[CombatArena] ExecuteAbility starting with action ID 20
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504414774,"event":"STATE_CHANGE","reason":"Goblin Shaman using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504414774,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504414774,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_fighter","ability_id":"Attack:basic_attack-\u003Eplayer_fighter"}
[COMBAT_LOG] {"ts":1770504415897,"event":"DECISION","unit":"enemy_shaman","action":"EndTurn","score":0.10378042,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Goblin Shaman -> EndTurn (#5) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504415898,"event":"STATE_CHANGE","reason":"enemy_shaman ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Mage
[COMBAT_LOG] {"ts":1770504415899,"event":"TURN_START","turn":6,"round":1,"unit":"player_mage","unit_name":"Mage","faction":"Player","hp":32,"max_hp":32,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[-3,0,-1]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504415901,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504415901,"event":"STATE_CHANGE","reason":"Awaiting Mage\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Mage at (-3, 0, -1)
[CombatArena] SelectCombatant called: player_mage
[CombatArena] Selected: player_mage
[CombatArena] Turn started: Mage (Player)
[UIAwareAI] Turn started for Mage (waited 6.10s total)
[COMBAT_LOG] {"ts":1770504416227,"event":"DECISION","unit":"player_mage","action":"Move","target":"(-1.1414285, 0, -1.8037066)","score":1.3263232,"reason":"positioning","score_breakdown":{"positioning":1.32,"random":0.01}}
[UIAwareAI] Mage -> Move (#1) score:1.33
[CombatArena] ExecuteMovement: player_mage -> (-1.1414285, 0, -1.8037066)
[CombatArena] ExecuteMovement starting with action ID 21
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504416228,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage moved from (-3, 0, -1) to (-1.1414285, 0, -1.8037066), distance: 2.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504416228,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504416229,"event":"ACTION_RESULT","unit":"player_mage","action":"Attack","score":0,"success":true,"description":"Move to (-1.1414285, 0, -1.8037066)","ability_id":"Move to (-1.1414285, 0, -1.8037066)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.5s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.8496, elapsedSinceLastAction=0.5652, nextActionDelay=1.0981, actionsTaken=1, timelines=0, actor=player_mage(True), cooldown_check=0.5662<1.0981=True
[COMBAT_LOG] {"ts":1770504417595,"event":"DECISION","unit":"player_mage","action":"Move","target":"(-1.1414285, 0, -1.8037066)","score":1.3263232,"reason":"positioning","score_breakdown":{"positioning":1.32,"random":0.01}}
[UIAwareAI] Mage -> Move (#2) score:1.33
[CombatArena] ExecuteMovement: player_mage -> (-1.1414285, 0, -1.8037066)
[CombatArena] ExecuteMovement starting with action ID 22
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504417596,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504417596,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504417597,"event":"ACTION_RESULT","unit":"player_mage","action":"Attack","score":0,"success":true,"description":"Move to (-1.1414285, 0, -1.8037066)","ability_id":"Move to (-1.1414285, 0, -1.8037066)"}
[COMBAT_LOG] {"ts":1770504419138,"event":"DECISION","unit":"player_mage","action":"Attack","target":"enemy_goblin","score":7.1521015,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.5}}
[UIAwareAI] Mage -> Attack (#3) score:7.15
[CombatArena] ExecuteAbility: player_mage -> basic_attack -> enemy_goblin
[CombatArena] ExecuteAbility starting with action ID 23
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504419139,"event":"STATE_CHANGE","reason":"Mage using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage used basic_attack on Goblin Skirmisher: damage:4
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504419140,"event":"ACTION_RESULT","unit":"player_mage","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_goblin","ability_id":"Attack:basic_attack-\u003Eenemy_goblin"}
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504419729,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[CombatArena] Ignoring stale callback (action 23 vs executing -1): Ability timeline timeout fallback
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=state to settle (0.0s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.2911, elapsedSinceLastAction=0.0000, nextActionDelay=1.0982, actionsTaken=3, timelines=0, actor=player_mage(True), cooldown_check=0.0010<1.0982=True
[COMBAT_LOG] {"ts":1770504420963,"event":"DECISION","unit":"player_mage","action":"Attack","target":"enemy_goblin","score":7.1521015,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.5}}
[UIAwareAI] Mage -> Attack (#4) score:7.15
[CombatArena] ExecuteAbility: player_mage -> basic_attack -> enemy_goblin
[CombatArena] ExecuteAbility starting with action ID 24
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504420964,"event":"STATE_CHANGE","reason":"Mage using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504420965,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504420965,"event":"ACTION_RESULT","unit":"player_mage","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_goblin","ability_id":"Attack:basic_attack-\u003Eenemy_goblin"}
[COMBAT_LOG] {"ts":1770504422630,"event":"DECISION","unit":"player_mage","action":"EndTurn","score":0.10165808,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Mage -> EndTurn (#5) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504422631,"event":"STATE_CHANGE","reason":"player_mage ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Orc Brute
[COMBAT_LOG] {"ts":1770504422631,"event":"TURN_START","turn":7,"round":1,"unit":"enemy_orc_brute","unit_name":"Orc Brute","faction":"Hostile","hp":48,"max_hp":48,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[8,0,0]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504422633,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504422634,"event":"STATE_CHANGE","reason":"Awaiting Orc Brute\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Orc Brute at (8, 0, 0)
[CombatArena] SelectCombatant called: enemy_orc_brute
[CombatArena] Selected: enemy_orc_brute
[CombatArena] Turn started: Orc Brute (AI)
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=state to settle (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.2304, elapsedSinceLastAction=1.5248, nextActionDelay=1.4666, actionsTaken=5, timelines=0, actor=enemy_orc_brute(True), cooldown_check=1.5258<1.4666=False
[UIAwareAI] Turn started for Orc Brute (waited 6.73s total)
[COMBAT_LOG] {"ts":1770504422980,"event":"DECISION","unit":"enemy_orc_brute","action":"Move","target":"(2.0918899, 0, -1.3017869)","score":2.3157582,"reason":"positioning","score_breakdown":{"positioning":2.22,"random":0.1}}
[UIAwareAI] Orc Brute -> Move (#1) score:2.32
[CombatArena] ExecuteMovement: enemy_orc_brute -> (2.0918899, 0, -1.3017869)
[CombatArena] ExecuteMovement starting with action ID 25
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504422981,"event":"STATE_CHANGE","reason":"Orc Brute moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Brute moved from (8, 0, 0) to (2.0918899, 0, -1.3017869), distance: 6.0
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504422981,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504422982,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Move to (2.0918899, 0, -1.3017869)","ability_id":"Move to (2.0918899, 0, -1.3017869)"}
[COMBAT_LOG] {"ts":1770504424536,"event":"DECISION","unit":"enemy_orc_brute","action":"Move","target":"(2.0918899, 0, -1.3017869)","score":2.3157582,"reason":"positioning","score_breakdown":{"positioning":2.22,"random":0.1}}
[UIAwareAI] Orc Brute -> Move (#2) score:2.32
[CombatArena] ExecuteMovement: enemy_orc_brute -> (2.0918899, 0, -1.3017869)
[CombatArena] ExecuteMovement starting with action ID 26
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504424537,"event":"STATE_CHANGE","reason":"Orc Brute moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504424537,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504424537,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Move to (2.0918899, 0, -1.3017869)","ability_id":"Move to (2.0918899, 0, -1.3017869)"}
[COMBAT_LOG] {"ts":1770504425553,"event":"DECISION","unit":"enemy_orc_brute","action":"Attack","target":"player_fighter","score":5.308213,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.33}}
[UIAwareAI] Orc Brute -> Attack (#3) score:5.31
[CombatArena] ExecuteAbility: enemy_orc_brute -> basic_attack -> player_fighter
[CombatArena] ExecuteAbility starting with action ID 27
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504425554,"event":"STATE_CHANGE","reason":"Orc Brute using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Brute used basic_attack on Fighter: damage:5
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504425554,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_fighter","ability_id":"Attack:basic_attack-\u003Eplayer_fighter"}
[UIAwareAI] [DIAG] state=ActionExecution, waiting_for=animation to complete (1 playing), isActing=False, hudReady=True, timeSinceStateChange=0.0000, elapsedSinceLastAction=0.0000, nextActionDelay=1.0679, actionsTaken=3, timelines=1, actor=enemy_orc_brute(True), cooldown_check=0.0010<1.0679=True
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504426167,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 27 vs executing -1): Ability timeline timeout fallback
[COMBAT_LOG] {"ts":1770504427484,"event":"DECISION","unit":"enemy_orc_brute","action":"Attack","target":"player_fighter","score":5.308213,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.33}}
[UIAwareAI] Orc Brute -> Attack (#4) score:5.31
[CombatArena] ExecuteAbility: enemy_orc_brute -> basic_attack -> player_fighter
[CombatArena] ExecuteAbility starting with action ID 28
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504427485,"event":"STATE_CHANGE","reason":"Orc Brute using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504427485,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504427486,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_fighter","ability_id":"Attack:basic_attack-\u003Eplayer_fighter"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.4s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.3167, elapsedSinceLastAction=1.0530, nextActionDelay=1.4197, actionsTaken=4, timelines=0, actor=enemy_orc_brute(True), cooldown_check=1.0540<1.4197=True
[COMBAT_LOG] {"ts":1770504429146,"event":"DECISION","unit":"enemy_orc_brute","action":"EndTurn","score":0.10718895,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Orc Brute -> EndTurn (#5) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504429147,"event":"STATE_CHANGE","reason":"enemy_orc_brute ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 1, Cleric
[COMBAT_LOG] {"ts":1770504429148,"event":"TURN_START","turn":8,"round":1,"unit":"player_cleric","unit_name":"Cleric","faction":"Player","hp":32,"max_hp":44,"ap":"Action | Bonus | Reaction | Move:30/30","pos":[-1,0,-3]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504429150,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504429151,"event":"STATE_CHANGE","reason":"Awaiting Cleric\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Cleric at (-1, 0, -3)
[CombatArena] SelectCombatant called: player_cleric
[CombatArena] Selected: player_cleric
[CombatArena] Turn started: Cleric (Player)
[UIAwareAI] Turn started for Cleric (waited 6.33s total)
[COMBAT_LOG] {"ts":1770504429523,"event":"DECISION","unit":"player_cleric","action":"Attack","target":"enemy_goblin","score":6.724096,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.07}}
[UIAwareAI] Cleric -> Attack (#1) score:6.72
[CombatArena] ExecuteAbility: player_cleric -> basic_attack -> enemy_goblin
[CombatArena] ExecuteAbility starting with action ID 29
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504429524,"event":"STATE_CHANGE","reason":"Cleric using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Cleric used basic_attack on Goblin Skirmisher: damage:8
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504429525,"event":"ACTION_RESULT","unit":"player_cleric","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_goblin","ability_id":"Attack:basic_attack-\u003Eenemy_goblin"}
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504430073,"event":"STATE_CHANGE","reason":"Ability timeline timeout fallback","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[CombatArena] Ignoring stale callback (action 29 vs executing -1): Ability timeline completed
[COMBAT_LOG] {"ts":1770504431178,"event":"DECISION","unit":"player_cleric","action":"Attack","target":"enemy_goblin","score":6.724096,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.07}}
[UIAwareAI] Cleric -> Attack (#2) score:6.72
[CombatArena] ExecuteAbility: player_cleric -> basic_attack -> enemy_goblin
[CombatArena] ExecuteAbility starting with action ID 30
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504431179,"event":"STATE_CHANGE","reason":"Cleric using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504431180,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504431180,"event":"ACTION_RESULT","unit":"player_cleric","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_goblin","ability_id":"Attack:basic_attack-\u003Eenemy_goblin"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.8s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.5328, elapsedSinceLastAction=0.2639, nextActionDelay=1.0909, actionsTaken=2, timelines=0, actor=player_cleric(True), cooldown_check=0.2649<1.0909=True
[COMBAT_LOG] {"ts":1770504432577,"event":"DECISION","unit":"player_cleric","action":"Move","target":"(-2.4313908, 0, -4.823536)","score":1.7783315,"reason":"positioning","score_breakdown":{"positioning":1.62,"random":0.16}}
[UIAwareAI] Cleric -> Move (#3) score:1.78
[CombatArena] ExecuteMovement: player_cleric -> (-2.4313908, 0, -4.823536)
[CombatArena] ExecuteMovement starting with action ID 31
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504432578,"event":"STATE_CHANGE","reason":"Cleric moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Cleric moved from (-1, 0, -3) to (-2.4313908, 0, -4.823536), distance: 2.3
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504432579,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504432579,"event":"ACTION_RESULT","unit":"player_cleric","action":"Attack","score":0,"success":true,"description":"Move to (-2.4313908, 0, -4.823536)","ability_id":"Move to (-2.4313908, 0, -4.823536)"}
[COMBAT_LOG] {"ts":1770504434220,"event":"DECISION","unit":"player_cleric","action":"EndTurn","score":0.10417262,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Cleric -> EndTurn (#4) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504434221,"event":"STATE_CHANGE","reason":"player_cleric ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Rogue
[COMBAT_LOG] {"ts":1770504434222,"event":"ROUND_END","round":1}
[COMBAT_LOG] {"ts":1770504434222,"event":"TURN_START","turn":9,"round":2,"unit":"player_rogue","unit_name":"Rogue","faction":"Player","hp":36,"max_hp":36,"ap":"Action | Bonus | Reaction | Move:0/30","pos":[-10.077112,0,-18.59673]}
[CombatArena] [STATE] TurnEnd -> RoundEnd
[COMBAT_LOG] {"ts":1770504434224,"event":"STATE_CHANGE","reason":"Round 1 ended","from_state":"TurnEnd","to_state":"RoundEnd"}
[UIAwareAI] State: TurnEnd -> RoundEnd
[CombatArena] [STATE] RoundEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504434225,"event":"STATE_CHANGE","reason":"Next turn","from_state":"RoundEnd","to_state":"TurnStart"}
[UIAwareAI] State: RoundEnd -> TurnStart
[CombatArena] Round 2: Reset reactions for all combatants
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504434226,"event":"STATE_CHANGE","reason":"Awaiting Rogue\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Rogue at (-10.077112, 0, -18.59673)
[CombatArena] SelectCombatant called: player_rogue
[CombatArena] Selected: player_rogue
[CombatArena] Turn started: Rogue (Player)
[UIAwareAI] Turn started for Rogue (waited 4.91s total)
[COMBAT_LOG] {"ts":1770504434515,"event":"DECISION","unit":"player_rogue","action":"Move","target":"(-2.534761, 0, -4.7733994)","score":1.678547,"reason":"positioning","score_breakdown":{"positioning":1.62,"random":0.06}}
[UIAwareAI] Rogue -> Move (#1) score:1.68
[CombatArena] ExecuteMovement: player_rogue -> (-2.534761, 0, -4.7733994)
[CombatArena] ExecuteMovement starting with action ID 32
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504434515,"event":"STATE_CHANGE","reason":"Rogue moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Rogue moved from (-10.077112, 0, -18.59673) to (-2.534761, 0, -4.7733994), distance: 15.7
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504434516,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504434516,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Move to (-2.534761, 0, -4.7733994)","ability_id":"Move to (-2.534761, 0, -4.7733994)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=state to settle (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.1787, elapsedSinceLastAction=0.0000, nextActionDelay=1.2673, actionsTaken=1, timelines=0, actor=player_rogue(True), cooldown_check=0.0010<1.2673=True
[COMBAT_LOG] {"ts":1770504436230,"event":"DECISION","unit":"player_rogue","action":"Move","target":"(-2.534761, 0, -4.7733994)","score":1.678547,"reason":"positioning","score_breakdown":{"positioning":1.62,"random":0.06}}
[UIAwareAI] Rogue -> Move (#2) score:1.68
[CombatArena] ExecuteMovement: player_rogue -> (-2.534761, 0, -4.7733994)
[CombatArena] ExecuteMovement starting with action ID 33
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504436231,"event":"STATE_CHANGE","reason":"Rogue moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504436232,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504436232,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Move to (-2.534761, 0, -4.7733994)","ability_id":"Move to (-2.534761, 0, -4.7733994)"}
[COMBAT_LOG] {"ts":1770504437349,"event":"DECISION","unit":"player_rogue","action":"Attack","target":"enemy_orc_archer","score":0.66003925,"reason":"damage_value","score_breakdown":{"damage_value":1,"random":0.01}}
[UIAwareAI] Rogue -> Attack (#3) score:0.66
[CombatArena] ExecuteAbility: player_rogue -> basic_attack -> enemy_orc_archer
[CombatArena] ExecuteAbility starting with action ID 34
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504437350,"event":"STATE_CHANGE","reason":"Rogue using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Rogue used basic_attack on Orc Archer: damage:7
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504437351,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_orc_archer","ability_id":"Attack:basic_attack-\u003Eenemy_orc_archer"}
[UIAwareAI] [DIAG] state=ActionExecution, waiting_for=animation to complete (1 playing), isActing=False, hudReady=True, timeSinceStateChange=0.0000, elapsedSinceLastAction=0.0000, nextActionDelay=1.3227, actionsTaken=3, timelines=1, actor=player_rogue(True), cooldown_check=0.0010<1.3227=True
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504439098,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[CombatArena] Ignoring stale callback (action 34 vs executing -1): Ability timeline timeout fallback
[COMBAT_LOG] {"ts":1770504440662,"event":"DECISION","unit":"player_rogue","action":"Attack","target":"enemy_orc_archer","score":0.66003925,"reason":"damage_value","score_breakdown":{"damage_value":1,"random":0.01}}
[UIAwareAI] Rogue -> Attack (#4) score:0.66
[CombatArena] ExecuteAbility: player_rogue -> basic_attack -> enemy_orc_archer
[CombatArena] ExecuteAbility starting with action ID 35
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504440664,"event":"STATE_CHANGE","reason":"Rogue using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504440664,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504440664,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_orc_archer","ability_id":"Attack:basic_attack-\u003Eenemy_orc_archer"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.4s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.2685, elapsedSinceLastAction=0.9963, nextActionDelay=1.4061, actionsTaken=4, timelines=0, actor=player_rogue(True), cooldown_check=0.9973<1.4061=True
[COMBAT_LOG] {"ts":1770504442309,"event":"DECISION","unit":"player_rogue","action":"EndTurn","score":0.10813244,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Rogue -> EndTurn (#5) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504442310,"event":"STATE_CHANGE","reason":"player_rogue ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Goblin Skirmisher
[COMBAT_LOG] {"ts":1770504442311,"event":"TURN_START","turn":10,"round":2,"unit":"enemy_goblin","unit_name":"Goblin Skirmisher","faction":"Hostile","hp":6,"max_hp":22,"ap":"Bonus | Reaction | Move:21/30","pos":[-0.03999996,0,-2.28]}
[COMBAT_LOG] {"ts":1770504442311,"event":"STATE_SNAPSHOT","turn":10,"round":2,"units":[{"id":"player_fighter","name":"Fighter","faction":"Player","hp":40,"max_hp":52,"pos":[0.9200001,0,-1.56],"alive":true},{"id":"player_mage","name":"Mage","faction":"Player","hp":32,"max_hp":32,"pos":[-1.1414285,0,-1.8037066],"alive":true},{"id":"player_cleric","name":"Cleric","faction":"Player","hp":32,"max_hp":44,"pos":[-2.4313908,0,-4.823536],"alive":true},{"id":"player_rogue","name":"Rogue","faction":"Player","hp":36,"max_hp":36,"pos":[-2.534761,0,-4.7733994],"alive":true},{"id":"enemy_orc_brute","name":"Orc Brute","faction":"Hostile","hp":48,"max_hp":48,"pos":[2.0918899,0,-1.3017869],"alive":true},{"id":"enemy_orc_archer","name":"Orc Archer","faction":"Hostile","hp":23,"max_hp":30,"pos":[-1.96,0,-3.72],"alive":true},{"id":"enemy_goblin","name":"Goblin Skirmisher","faction":"Hostile","hp":6,"max_hp":22,"pos":[-0.03999996,0,-2.28],"alive":true},{"id":"enemy_shaman","name":"Goblin Shaman","faction":"Hostile","hp":28,"max_hp":28,"pos":[2.1177244,0,-1.4861314],"alive":true}]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504442313,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504442313,"event":"STATE_CHANGE","reason":"Awaiting Goblin Skirmisher\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Goblin Skirmisher at (-0.03999996, 0, -2.28)
[CombatArena] SelectCombatant called: enemy_goblin
[CombatArena] Selected: enemy_goblin
[CombatArena] Turn started: Goblin Skirmisher (AI)
[UIAwareAI] Turn started for Goblin Skirmisher (waited 6.76s total)
[COMBAT_LOG] {"ts":1770504442616,"event":"DECISION","unit":"enemy_goblin","action":"Attack","target":"player_fighter","score":5.0503473,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.08}}
[UIAwareAI] Goblin Skirmisher -> Attack (#1) score:5.05
[CombatArena] ExecuteAbility: enemy_goblin -> basic_attack -> player_fighter
[CombatArena] ExecuteAbility starting with action ID 36
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504442617,"event":"STATE_CHANGE","reason":"Goblin Skirmisher using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin Skirmisher used basic_attack on Fighter: damage:4
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504442617,"event":"ACTION_RESULT","unit":"enemy_goblin","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_fighter","ability_id":"Attack:basic_attack-\u003Eplayer_fighter"}
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504443179,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 36 vs executing -1): Ability timeline timeout fallback
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.0s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.7156, elapsedSinceLastAction=1.4252, nextActionDelay=1.4630, actionsTaken=1, timelines=0, actor=enemy_goblin(True), cooldown_check=1.4262<1.4630=True
[COMBAT_LOG] {"ts":1770504444737,"event":"DECISION","unit":"enemy_goblin","action":"Attack","target":"player_fighter","score":5.0503473,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.08}}
[UIAwareAI] Goblin Skirmisher -> Attack (#2) score:5.05
[CombatArena] ExecuteAbility: enemy_goblin -> basic_attack -> player_fighter
[CombatArena] ExecuteAbility starting with action ID 37
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504444738,"event":"STATE_CHANGE","reason":"Goblin Skirmisher using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504444738,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504444738,"event":"ACTION_RESULT","unit":"enemy_goblin","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_fighter","ability_id":"Attack:basic_attack-\u003Eplayer_fighter"}
[COMBAT_LOG] {"ts":1770504445812,"event":"DECISION","unit":"enemy_goblin","action":"EndTurn","score":0.10099279,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Goblin Skirmisher -> EndTurn (#3) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504445813,"event":"STATE_CHANGE","reason":"enemy_goblin ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Fighter
[COMBAT_LOG] {"ts":1770504445813,"event":"TURN_START","turn":11,"round":2,"unit":"player_fighter","unit_name":"Fighter","faction":"Player","hp":36,"max_hp":52,"ap":"Bonus | Reaction | Move:28/30","pos":[0.9200001,0,-1.56]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504445815,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504445816,"event":"STATE_CHANGE","reason":"Awaiting Fighter\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Fighter at (0.9200001, 0, -1.56)
[CombatArena] SelectCombatant called: player_fighter
[CombatArena] Selected: player_fighter
[CombatArena] Turn started: Fighter (Player)
[UIAwareAI] Turn started for Fighter (waited 3.68s total)
[COMBAT_LOG] {"ts":1770504446140,"event":"DECISION","unit":"player_fighter","action":"Attack","target":"enemy_goblin","score":25.934093,"reason":"kill_potential","score_breakdown":{"kill_potential":15,"team_focus_fire":6,"focus_fire":2.18,"random":2.1,"damage_value":1}}
[UIAwareAI] Fighter -> Attack (#1) score:25.93
[CombatArena] ExecuteAbility: player_fighter -> basic_attack -> enemy_goblin
[CombatArena] ExecuteAbility starting with action ID 38
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504446141,"event":"STATE_CHANGE","reason":"Fighter using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter used basic_attack on Goblin Skirmisher: damage:9
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504446141,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_goblin","ability_id":"Attack:basic_attack-\u003Eenemy_goblin"}
[COMBAT_LOG] {"ts":1770504446141,"event":"UNIT_DIED","unit":"enemy_goblin","unit_name":"Goblin Skirmisher","faction":"Hostile","pos":[-0.03999996,0,-2.28],"reason":"Killed by combat"}
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504446732,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[CombatArena] Ignoring stale callback (action 38 vs executing -1): Ability timeline timeout fallback
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.6s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.8674, elapsedSinceLastAction=0.6221, nextActionDelay=1.2676, actionsTaken=1, timelines=0, actor=player_fighter(True), cooldown_check=0.6231<1.2676=True
[COMBAT_LOG] {"ts":1770504448242,"event":"DECISION","unit":"player_fighter","action":"Move","target":"(-1, 0, -3)","score":1.7618982,"reason":"positioning","score_breakdown":{"positioning":1.62,"random":0.14}}
[UIAwareAI] Fighter -> Move (#2) score:1.76
[CombatArena] ExecuteMovement: player_fighter -> (-1, 0, -3)
[CombatArena] ExecuteMovement starting with action ID 39
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504448243,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (0.9200001, 0, -1.56) to (-1, 0, -3), distance: 2.4
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504448244,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504448244,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Move to (-1, 0, -3)","ability_id":"Move to (-1, 0, -3)"}
[COMBAT_LOG] {"ts":1770504450031,"event":"DECISION","unit":"player_fighter","action":"Move","target":"(-1, 0, -3)","score":1.7618982,"reason":"positioning","score_breakdown":{"positioning":1.62,"random":0.14}}
[UIAwareAI] Fighter -> Move (#3) score:1.76
[CombatArena] ExecuteMovement: player_fighter -> (-1, 0, -3)
[CombatArena] ExecuteMovement starting with action ID 40
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504450031,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504450032,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504450032,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Move to (-1, 0, -3)","ability_id":"Move to (-1, 0, -3)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.5s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.5370, elapsedSinceLastAction=0.2685, nextActionDelay=0.8170, actionsTaken=3, timelines=0, actor=player_fighter(True), cooldown_check=0.2695<0.8170=True
[COMBAT_LOG] {"ts":1770504451069,"event":"DECISION","unit":"player_fighter","action":"EndTurn","score":0.10706732,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Fighter -> EndTurn (#4) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504451070,"event":"STATE_CHANGE","reason":"player_fighter ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Orc Archer
[COMBAT_LOG] {"ts":1770504451070,"event":"TURN_START","turn":12,"round":2,"unit":"enemy_orc_archer","unit_name":"Orc Archer","faction":"Hostile","hp":23,"max_hp":30,"ap":"Bonus | Reaction | Move:17/30","pos":[-1.96,0,-3.72]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504451072,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504451073,"event":"STATE_CHANGE","reason":"Awaiting Orc Archer\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Orc Archer at (-1.96, 0, -3.72)
[CombatArena] SelectCombatant called: enemy_orc_archer
[CombatArena] Selected: enemy_orc_archer
[CombatArena] Turn started: Orc Archer (AI)
[UIAwareAI] Turn started for Orc Archer (waited 5.17s total)
[COMBAT_LOG] {"ts":1770504451380,"event":"DECISION","unit":"enemy_orc_archer","action":"Attack","target":"player_fighter","score":5.202518,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.23}}
[UIAwareAI] Orc Archer -> Attack (#1) score:5.20
[CombatArena] ExecuteAbility: enemy_orc_archer -> basic_attack -> player_fighter
[CombatArena] ExecuteAbility starting with action ID 41
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504451381,"event":"STATE_CHANGE","reason":"Orc Archer using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Archer used basic_attack on Fighter: damage:4
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504451381,"event":"ACTION_RESULT","unit":"enemy_orc_archer","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_fighter","ability_id":"Attack:basic_attack-\u003Eplayer_fighter"}
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504451972,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 41 vs executing -1): Ability timeline timeout fallback
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.4911, elapsedSinceLastAction=1.2216, nextActionDelay=1.3065, actionsTaken=1, timelines=0, actor=enemy_orc_archer(True), cooldown_check=1.2226<1.3065=True
[COMBAT_LOG] {"ts":1770504453387,"event":"DECISION","unit":"enemy_orc_archer","action":"Attack","target":"player_fighter","score":5.202518,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.23}}
[UIAwareAI] Orc Archer -> Attack (#2) score:5.20
[CombatArena] ExecuteAbility: enemy_orc_archer -> basic_attack -> player_fighter
[CombatArena] ExecuteAbility starting with action ID 42
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504453388,"event":"STATE_CHANGE","reason":"Orc Archer using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504453389,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504453389,"event":"ACTION_RESULT","unit":"enemy_orc_archer","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_fighter","ability_id":"Attack:basic_attack-\u003Eplayer_fighter"}
[COMBAT_LOG] {"ts":1770504454502,"event":"DECISION","unit":"enemy_orc_archer","action":"EndTurn","score":0.102331825,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Orc Archer -> EndTurn (#3) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504454503,"event":"STATE_CHANGE","reason":"enemy_orc_archer ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Goblin Shaman
[COMBAT_LOG] {"ts":1770504454503,"event":"TURN_START","turn":13,"round":2,"unit":"enemy_shaman","unit_name":"Goblin Shaman","faction":"Hostile","hp":28,"max_hp":28,"ap":"Bonus | Reaction | Move:22/30","pos":[2.1177244,0,-1.4861314]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504454505,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504454506,"event":"STATE_CHANGE","reason":"Awaiting Goblin Shaman\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Goblin Shaman at (2.1177244, 0, -1.4861314)
[CombatArena] SelectCombatant called: enemy_shaman
[CombatArena] Selected: enemy_shaman
[CombatArena] Turn started: Goblin Shaman (AI)
[UIAwareAI] Turn started for Goblin Shaman (waited 3.47s total)
[COMBAT_LOG] {"ts":1770504454793,"event":"DECISION","unit":"enemy_shaman","action":"Move","target":"(-0.67003775, 0, -0.700171)","score":1.010989,"reason":"positioning","score_breakdown":{"positioning":0.95,"random":0.06}}
[UIAwareAI] Goblin Shaman -> Move (#1) score:1.01
[CombatArena] ExecuteMovement: enemy_shaman -> (-0.67003775, 0, -0.700171)
[CombatArena] ExecuteMovement starting with action ID 43
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504454794,"event":"STATE_CHANGE","reason":"Goblin Shaman moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin Shaman moved from (2.1177244, 0, -1.4861314) to (-0.67003775, 0, -0.700171), distance: 2.9
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504454795,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504454795,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Move to (-0.67003775, 0, -0.700171)","ability_id":"Move to (-0.67003775, 0, -0.700171)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.4891, elapsedSinceLastAction=1.1985, nextActionDelay=1.4311, actionsTaken=1, timelines=0, actor=enemy_shaman(True), cooldown_check=1.1995<1.4311=True
[COMBAT_LOG] {"ts":1770504456545,"event":"DECISION","unit":"enemy_shaman","action":"Move","target":"(-0.67003775, 0, -0.700171)","score":1.010989,"reason":"positioning","score_breakdown":{"positioning":0.95,"random":0.06}}
[UIAwareAI] Goblin Shaman -> Move (#2) score:1.01
[CombatArena] ExecuteMovement: enemy_shaman -> (-0.67003775, 0, -0.700171)
[CombatArena] ExecuteMovement starting with action ID 44
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504456547,"event":"STATE_CHANGE","reason":"Goblin Shaman moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504456547,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504456547,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Move to (-0.67003775, 0, -0.700171)","ability_id":"Move to (-0.67003775, 0, -0.700171)"}
[COMBAT_LOG] {"ts":1770504458261,"event":"DECISION","unit":"enemy_shaman","action":"Attack","target":"player_mage","score":1.0019605,"reason":"damage_value","score_breakdown":{"damage_value":1.5,"random":0.03}}
[UIAwareAI] Goblin Shaman -> Attack (#3) score:1.00
[CombatArena] ExecuteAbility: enemy_shaman -> basic_attack -> player_mage
[CombatArena] ExecuteAbility starting with action ID 45
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504458262,"event":"STATE_CHANGE","reason":"Goblin Shaman using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin Shaman used basic_attack on Mage: damage:5
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504458262,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_mage","ability_id":"Attack:basic_attack-\u003Eplayer_mage"}
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504458841,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 45 vs executing -1): Ability timeline timeout fallback
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (1.3s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.4555, elapsedSinceLastAction=0.2028, nextActionDelay=1.4602, actionsTaken=3, timelines=0, actor=enemy_shaman(True), cooldown_check=0.2038<1.4602=True
[COMBAT_LOG] {"ts":1770504460441,"event":"DECISION","unit":"enemy_shaman","action":"Attack","target":"player_mage","score":1.0019605,"reason":"damage_value","score_breakdown":{"damage_value":1.5,"random":0.03}}
[UIAwareAI] Goblin Shaman -> Attack (#4) score:1.00
[CombatArena] ExecuteAbility: enemy_shaman -> basic_attack -> player_mage
[CombatArena] ExecuteAbility starting with action ID 46
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504460442,"event":"STATE_CHANGE","reason":"Goblin Shaman using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504460443,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504460443,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_mage","ability_id":"Attack:basic_attack-\u003Eplayer_mage"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.0s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.7384, elapsedSinceLastAction=1.4765, nextActionDelay=1.4949, actionsTaken=4, timelines=0, actor=enemy_shaman(True), cooldown_check=1.4775<1.4949=True
[COMBAT_LOG] {"ts":1770504462138,"event":"DECISION","unit":"enemy_shaman","action":"EndTurn","score":0.10955714,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Goblin Shaman -> EndTurn (#5) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504462139,"event":"STATE_CHANGE","reason":"enemy_shaman ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Mage
[COMBAT_LOG] {"ts":1770504462139,"event":"TURN_START","turn":14,"round":2,"unit":"player_mage","unit_name":"Mage","faction":"Player","hp":27,"max_hp":32,"ap":"Bonus | Reaction | Move:28/30","pos":[-1.1414285,0,-1.8037066]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504462141,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504462142,"event":"STATE_CHANGE","reason":"Awaiting Mage\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Mage at (-1.1414285, 0, -1.8037066)
[CombatArena] SelectCombatant called: player_mage
[CombatArena] Selected: player_mage
[CombatArena] Turn started: Mage (Player)
[UIAwareAI] Turn started for Mage (waited 7.62s total)
[COMBAT_LOG] {"ts":1770504462451,"event":"DECISION","unit":"player_mage","action":"Move","target":"(-0.49961582, 0, 0.4876659)","score":0.7647319,"reason":"positioning","score_breakdown":{"positioning":0.72,"random":0.04}}
[UIAwareAI] Mage -> Move (#1) score:0.76
[CombatArena] ExecuteMovement: player_mage -> (-0.49961582, 0, 0.4876659)
[CombatArena] ExecuteMovement starting with action ID 47
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504462451,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage moved from (-1.1414285, 0, -1.8037066) to (-0.49961582, 0, 0.4876659), distance: 2.4
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504462452,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504462452,"event":"ACTION_RESULT","unit":"player_mage","action":"Attack","score":0,"success":true,"description":"Move to (-0.49961582, 0, 0.4876659)","ability_id":"Move to (-0.49961582, 0, 0.4876659)"}
[COMBAT_LOG] {"ts":1770504463639,"event":"DECISION","unit":"player_mage","action":"Move","target":"(-0.49961582, 0, 0.4876659)","score":0.7647319,"reason":"positioning","score_breakdown":{"positioning":0.72,"random":0.04}}
[UIAwareAI] Mage -> Move (#2) score:0.76
[CombatArena] ExecuteMovement: player_mage -> (-0.49961582, 0, 0.4876659)
[CombatArena] ExecuteMovement starting with action ID 48
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504463640,"event":"STATE_CHANGE","reason":"Mage moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504463641,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504463641,"event":"ACTION_RESULT","unit":"player_mage","action":"Attack","score":0,"success":true,"description":"Move to (-0.49961582, 0, 0.4876659)","ability_id":"Move to (-0.49961582, 0, 0.4876659)"}
[COMBAT_LOG] {"ts":1770504465094,"event":"DECISION","unit":"player_mage","action":"Attack","target":"enemy_shaman","score":0.66392916,"reason":"damage_value","score_breakdown":{"damage_value":1,"random":0.01}}
[UIAwareAI] Mage -> Attack (#3) score:0.66
[CombatArena] ExecuteAbility: player_mage -> basic_attack -> enemy_shaman
[CombatArena] ExecuteAbility starting with action ID 49
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504465095,"event":"STATE_CHANGE","reason":"Mage using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Mage used basic_attack on Goblin Shaman: damage:7
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504465095,"event":"ACTION_RESULT","unit":"player_mage","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_shaman","ability_id":"Attack:basic_attack-\u003Eenemy_shaman"}
[UIAwareAI] [DIAG] state=ActionExecution, waiting_for=executing action, isActing=False, hudReady=True, timeSinceStateChange=0.0000, elapsedSinceLastAction=0.0000, nextActionDelay=1.4559, actionsTaken=3, timelines=1, actor=player_mage(True), cooldown_check=0.0010<1.4559=True
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504465724,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[CombatArena] Ignoring stale callback (action 49 vs executing -1): Ability timeline timeout fallback
[COMBAT_LOG] {"ts":1770504467363,"event":"DECISION","unit":"player_mage","action":"Attack","target":"enemy_shaman","score":0.66392916,"reason":"damage_value","score_breakdown":{"damage_value":1,"random":0.01}}
[UIAwareAI] Mage -> Attack (#4) score:0.66
[CombatArena] ExecuteAbility: player_mage -> basic_attack -> enemy_shaman
[CombatArena] ExecuteAbility starting with action ID 50
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504467364,"event":"STATE_CHANGE","reason":"Mage using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504467365,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504467365,"event":"ACTION_RESULT","unit":"player_mage","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_shaman","ability_id":"Attack:basic_attack-\u003Eenemy_shaman"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.5s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.7072, elapsedSinceLastAction=0.4298, nextActionDelay=0.9190, actionsTaken=4, timelines=0, actor=player_mage(True), cooldown_check=0.4308<0.9190=True
[COMBAT_LOG] {"ts":1770504468568,"event":"DECISION","unit":"player_mage","action":"EndTurn","score":0.10477828,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Mage -> EndTurn (#5) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504468569,"event":"STATE_CHANGE","reason":"player_mage ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Orc Brute
[COMBAT_LOG] {"ts":1770504468569,"event":"TURN_START","turn":15,"round":2,"unit":"enemy_orc_brute","unit_name":"Orc Brute","faction":"Hostile","hp":48,"max_hp":48,"ap":"Bonus | Reaction | Move:24/30","pos":[2.0918899,0,-1.3017869]}
[COMBAT_LOG] {"ts":1770504468569,"event":"STATE_SNAPSHOT","turn":15,"round":2,"units":[{"id":"player_fighter","name":"Fighter","faction":"Player","hp":32,"max_hp":52,"pos":[-1,0,-3],"alive":true},{"id":"player_mage","name":"Mage","faction":"Player","hp":27,"max_hp":32,"pos":[-0.49961582,0,0.4876659],"alive":true},{"id":"player_cleric","name":"Cleric","faction":"Player","hp":32,"max_hp":44,"pos":[-2.4313908,0,-4.823536],"alive":true},{"id":"player_rogue","name":"Rogue","faction":"Player","hp":36,"max_hp":36,"pos":[-2.534761,0,-4.7733994],"alive":true},{"id":"enemy_orc_brute","name":"Orc Brute","faction":"Hostile","hp":48,"max_hp":48,"pos":[2.0918899,0,-1.3017869],"alive":true},{"id":"enemy_orc_archer","name":"Orc Archer","faction":"Hostile","hp":23,"max_hp":30,"pos":[-1.96,0,-3.72],"alive":true},{"id":"enemy_goblin","name":"Goblin Skirmisher","faction":"Hostile","hp":0,"max_hp":22,"pos":[-0.03999996,0,-2.28],"alive":false},{"id":"enemy_shaman","name":"Goblin Shaman","faction":"Hostile","hp":21,"max_hp":28,"pos":[-0.67003775,0,-0.700171],"alive":true}]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504468571,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504468572,"event":"STATE_CHANGE","reason":"Awaiting Orc Brute\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Orc Brute at (2.0918899, 0, -1.3017869)
[CombatArena] SelectCombatant called: enemy_orc_brute
[CombatArena] Selected: enemy_orc_brute
[CombatArena] Turn started: Orc Brute (AI)
[UIAwareAI] Turn started for Orc Brute (waited 6.27s total)
[COMBAT_LOG] {"ts":1770504468875,"event":"DECISION","unit":"enemy_orc_brute","action":"Move","target":"(-0.3291939, 0, 1.6755028)","score":1.8036846,"reason":"positioning","score_breakdown":{"positioning":1.65,"random":0.15}}
[UIAwareAI] Orc Brute -> Move (#1) score:1.80
[CombatArena] ExecuteMovement: enemy_orc_brute -> (-0.3291939, 0, 1.6755028)
[CombatArena] ExecuteMovement starting with action ID 51
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504468876,"event":"STATE_CHANGE","reason":"Orc Brute moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Brute moved from (2.0918899, 0, -1.3017869) to (-0.3291939, 0, 1.6755028), distance: 3.8
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504468876,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504468876,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Move to (-0.3291939, 0, 1.6755028)","ability_id":"Move to (-0.3291939, 0, 1.6755028)"}
[COMBAT_LOG] {"ts":1770504470255,"event":"DECISION","unit":"enemy_orc_brute","action":"Move","target":"(-0.3291939, 0, 1.6755028)","score":1.8036846,"reason":"positioning","score_breakdown":{"positioning":1.65,"random":0.15}}
[UIAwareAI] Orc Brute -> Move (#2) score:1.80
[CombatArena] ExecuteMovement: enemy_orc_brute -> (-0.3291939, 0, 1.6755028)
[CombatArena] ExecuteMovement starting with action ID 52
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504470256,"event":"STATE_CHANGE","reason":"Orc Brute moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504470256,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504470256,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Move to (-0.3291939, 0, 1.6755028)","ability_id":"Move to (-0.3291939, 0, 1.6755028)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.5s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.7581, elapsedSinceLastAction=0.4642, nextActionDelay=0.9468, actionsTaken=2, timelines=0, actor=enemy_orc_brute(True), cooldown_check=0.4652<0.9468=True
[COMBAT_LOG] {"ts":1770504472677,"event":"DECISION","unit":"enemy_orc_brute","action":"Attack","target":"player_mage","score":5.020872,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.05}}
[UIAwareAI] Orc Brute -> Attack (#3) score:5.02
[CombatArena] ExecuteAbility: enemy_orc_brute -> basic_attack -> player_mage
[CombatArena] ExecuteAbility starting with action ID 53
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504472678,"event":"STATE_CHANGE","reason":"Orc Brute using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Brute used basic_attack on Mage: damage:5
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504472678,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_mage","ability_id":"Attack:basic_attack-\u003Eplayer_mage"}
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504473316,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 53 vs executing -1): Ability timeline timeout fallback
[COMBAT_LOG] {"ts":1770504474392,"event":"DECISION","unit":"enemy_orc_brute","action":"Attack","target":"player_mage","score":5.020872,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.05}}
[UIAwareAI] Orc Brute -> Attack (#4) score:5.02
[CombatArena] ExecuteAbility: enemy_orc_brute -> basic_attack -> player_mage
[CombatArena] ExecuteAbility starting with action ID 54
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504474393,"event":"STATE_CHANGE","reason":"Orc Brute using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504474393,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504474393,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_mage","ability_id":"Attack:basic_attack-\u003Eplayer_mage"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.7s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.8207, elapsedSinceLastAction=0.5454, nextActionDelay=1.2361, actionsTaken=4, timelines=0, actor=enemy_orc_brute(True), cooldown_check=0.5464<1.2361=True
[COMBAT_LOG] {"ts":1770504475860,"event":"DECISION","unit":"enemy_orc_brute","action":"Move","target":"(12.752087, 0, 24.332949)","score":0.054704808,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Orc Brute -> Move (#5) score:0.05
[CombatArena] ExecuteMovement: enemy_orc_brute -> (12.752087, 0, 24.332949)
[CombatArena] ExecuteMovement starting with action ID 55
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504475861,"event":"STATE_CHANGE","reason":"Orc Brute moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Brute moved from (-0.3291939, 0, 1.6755028) to (12.752087, 0, 24.332949), distance: 26.2
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504475862,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504475862,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Move to (12.752087, 0, 24.332949)","ability_id":"Move to (12.752087, 0, 24.332949)"}
[COMBAT_LOG] {"ts":1770504476987,"event":"DECISION","unit":"enemy_orc_brute","action":"Move","target":"(12.752087, 0, 24.332949)","score":0.054704808,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Orc Brute -> Move (#6) score:0.05
[CombatArena] ExecuteMovement: enemy_orc_brute -> (12.752087, 0, 24.332949)
[CombatArena] ExecuteMovement starting with action ID 56
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504476988,"event":"STATE_CHANGE","reason":"Orc Brute moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504476988,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504476988,"event":"ACTION_RESULT","unit":"enemy_orc_brute","action":"Attack","score":0,"success":true,"description":"Move to (12.752087, 0, 24.332949)","ability_id":"Move to (12.752087, 0, 24.332949)"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.0790, elapsedSinceLastAction=0.7865, nextActionDelay=0.8681, actionsTaken=6, timelines=0, actor=enemy_orc_brute(True), cooldown_check=0.7875<0.8681=True
[COMBAT_LOG] {"ts":1770504478065,"event":"DECISION","unit":"enemy_orc_brute","action":"EndTurn","score":0.1095296,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Orc Brute -> EndTurn (#7) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504478066,"event":"STATE_CHANGE","reason":"enemy_orc_brute ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 2, Cleric
[COMBAT_LOG] {"ts":1770504478066,"event":"TURN_START","turn":16,"round":2,"unit":"player_cleric","unit_name":"Cleric","faction":"Player","hp":32,"max_hp":44,"ap":"Bonus | Reaction | Move:28/30","pos":[-2.4313908,0,-4.823536]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504478068,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504478068,"event":"STATE_CHANGE","reason":"Awaiting Cleric\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Cleric at (-2.4313908, 0, -4.823536)
[CombatArena] SelectCombatant called: player_cleric
[CombatArena] Selected: player_cleric
[CombatArena] Turn started: Cleric (Player)
[UIAwareAI] Turn started for Cleric (waited 8.26s total)
[COMBAT_LOG] {"ts":1770504478357,"event":"DECISION","unit":"player_cleric","action":"Attack","target":"enemy_orc_archer","score":7.2938175,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.64}}
[UIAwareAI] Cleric -> Attack (#1) score:7.29
[CombatArena] ExecuteAbility: player_cleric -> basic_attack -> enemy_orc_archer
[CombatArena] ExecuteAbility starting with action ID 57
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504478357,"event":"STATE_CHANGE","reason":"Cleric using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Cleric used basic_attack on Orc Archer: damage:6
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504478358,"event":"ACTION_RESULT","unit":"player_cleric","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_orc_archer","ability_id":"Attack:basic_attack-\u003Eenemy_orc_archer"}
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504478908,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[CombatArena] Ignoring stale callback (action 57 vs executing -1): Ability timeline timeout fallback
[COMBAT_LOG] {"ts":1770504480526,"event":"DECISION","unit":"player_cleric","action":"Attack","target":"enemy_orc_archer","score":7.2938175,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.64}}
[UIAwareAI] Cleric -> Attack (#2) score:7.29
[CombatArena] ExecuteAbility: player_cleric -> basic_attack -> enemy_orc_archer
[CombatArena] ExecuteAbility starting with action ID 58
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504480528,"event":"STATE_CHANGE","reason":"Cleric using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504480529,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504480529,"event":"ACTION_RESULT","unit":"player_cleric","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_orc_archer","ability_id":"Attack:basic_attack-\u003Eenemy_orc_archer"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (1.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.3167, elapsedSinceLastAction=0.0528, nextActionDelay=1.2714, actionsTaken=2, timelines=0, actor=player_cleric(True), cooldown_check=0.0538<1.2714=True
[COMBAT_LOG] {"ts":1770504482080,"event":"DECISION","unit":"player_cleric","action":"EndTurn","score":0.10355959,"reason":"base","score_breakdown":{"base":0.1,"random":0}}
[UIAwareAI] Cleric -> EndTurn (#3) score:0.10
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504482081,"event":"STATE_CHANGE","reason":"player_cleric ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 3, Rogue
[COMBAT_LOG] {"ts":1770504482081,"event":"ROUND_END","round":2}
[COMBAT_LOG] {"ts":1770504482081,"event":"TURN_START","turn":17,"round":3,"unit":"player_rogue","unit_name":"Rogue","faction":"Player","hp":36,"max_hp":36,"ap":"Bonus | Reaction | Move:14/30","pos":[-2.534761,0,-4.7733994]}
[CombatArena] [STATE] TurnEnd -> RoundEnd
[COMBAT_LOG] {"ts":1770504482083,"event":"STATE_CHANGE","reason":"Round 2 ended","from_state":"TurnEnd","to_state":"RoundEnd"}
[UIAwareAI] State: TurnEnd -> RoundEnd
[CombatArena] [STATE] RoundEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504482084,"event":"STATE_CHANGE","reason":"Next turn","from_state":"RoundEnd","to_state":"TurnStart"}
[UIAwareAI] State: RoundEnd -> TurnStart
[CombatArena] Round 3: Reset reactions for all combatants
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504482084,"event":"STATE_CHANGE","reason":"Awaiting Rogue\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Rogue at (-2.534761, 0, -4.7733994)
[CombatArena] SelectCombatant called: player_rogue
[CombatArena] Selected: player_rogue
[CombatArena] Turn started: Rogue (Player)
[UIAwareAI] Turn started for Rogue (waited 4.02s total)
[COMBAT_LOG] {"ts":1770504482406,"event":"DECISION","unit":"player_rogue","action":"Attack","target":"enemy_orc_archer","score":6.7549663,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.1}}
[UIAwareAI] Rogue -> Attack (#1) score:6.75
[CombatArena] ExecuteAbility: player_rogue -> basic_attack -> enemy_orc_archer
[CombatArena] ExecuteAbility starting with action ID 59
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504482407,"event":"STATE_CHANGE","reason":"Rogue using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Rogue used basic_attack on Orc Archer: damage:5
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504482408,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_orc_archer","ability_id":"Attack:basic_attack-\u003Eenemy_orc_archer"}
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504483031,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[CombatArena] Ignoring stale callback (action 59 vs executing -1): Ability timeline timeout fallback
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.5s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.8973, elapsedSinceLastAction=0.6333, nextActionDelay=1.1806, actionsTaken=1, timelines=0, actor=player_rogue(True), cooldown_check=0.6343<1.1806=True
[COMBAT_LOG] {"ts":1770504484357,"event":"DECISION","unit":"player_rogue","action":"Attack","target":"enemy_orc_archer","score":6.7549663,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"damage_value":1,"random":0.1}}
[UIAwareAI] Rogue -> Attack (#2) score:6.75
[CombatArena] ExecuteAbility: player_rogue -> basic_attack -> enemy_orc_archer
[CombatArena] ExecuteAbility starting with action ID 60
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504484358,"event":"STATE_CHANGE","reason":"Rogue using basic_attack","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504484359,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504484359,"event":"ACTION_RESULT","unit":"player_rogue","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_orc_archer","ability_id":"Attack:basic_attack-\u003Eenemy_orc_archer"}
[COMBAT_LOG] {"ts":1770504485760,"event":"DECISION","unit":"player_rogue","action":"EndTurn","score":0.10574807,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Rogue -> EndTurn (#3) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504485761,"event":"STATE_CHANGE","reason":"player_rogue ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 3, Fighter
[COMBAT_LOG] {"ts":1770504485761,"event":"TURN_START","turn":18,"round":3,"unit":"player_fighter","unit_name":"Fighter","faction":"Player","hp":32,"max_hp":52,"ap":"Bonus | Reaction | Move:28/30","pos":[-1,0,-3]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504485763,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> PlayerDecision
[COMBAT_LOG] {"ts":1770504485764,"event":"STATE_CHANGE","reason":"Awaiting Fighter\u0027s decision","from_state":"TurnStart","to_state":"PlayerDecision"}
[UIAwareAI] State: TurnStart -> PlayerDecision
[CombatArena] Camera panning to Fighter at (-1, 0, -3)
[CombatArena] SelectCombatant called: player_fighter
[CombatArena] Selected: player_fighter
[CombatArena] Turn started: Fighter (Player)
[UIAwareAI] Turn started for Fighter (waited 3.76s total)
[COMBAT_LOG] {"ts":1770504486055,"event":"DECISION","unit":"player_fighter","action":"Move","target":"(-11, 0, -3.000001)","score":0.054979082,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Fighter -> Move (#1) score:0.05
[CombatArena] ExecuteMovement: player_fighter -> (-11, 0, -3.000001)
[CombatArena] ExecuteMovement starting with action ID 61
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504486055,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (-1, 0, -3) to (-11, 0, -3.000001), distance: 10.0
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504486056,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504486056,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Move to (-11, 0, -3.000001)","ability_id":"Move to (-11, 0, -3.000001)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.8s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.5910, elapsedSinceLastAction=0.3125, nextActionDelay=1.1115, actionsTaken=1, timelines=0, actor=player_fighter(True), cooldown_check=0.3135<1.1115=True
[COMBAT_LOG] {"ts":1770504487377,"event":"DECISION","unit":"player_fighter","action":"Move","target":"(-11, 0, -3.000001)","score":0.054979082,"reason":"positioning","score_breakdown":{"positioning":0.05,"random":0}}
[UIAwareAI] Fighter -> Move (#2) score:0.05
[CombatArena] ExecuteMovement: player_fighter -> (-11, 0, -3.000001)
[CombatArena] ExecuteMovement starting with action ID 62
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504487378,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504487378,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504487379,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Move to (-11, 0, -3.000001)","ability_id":"Move to (-11, 0, -3.000001)"}
[COMBAT_LOG] {"ts":1770504488621,"event":"DECISION","unit":"player_fighter","action":"Attack","target":"enemy_orc_archer","score":8.563142,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":6,"focus_fire":1.8,"damage_value":1,"random":0.11}}
[UIAwareAI] Fighter -> Attack (#3) score:8.56
[CombatArena] ExecuteAbility: player_fighter -> basic_attack -> enemy_orc_archer
[CombatArena] Cannot execute basic_attack: Target out of range (9.1/1.5)
[COMBAT_LOG] {"ts":1770504488621,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eenemy_orc_archer","ability_id":"Attack:basic_attack-\u003Eenemy_orc_archer"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=2.2301, elapsedSinceLastAction=0.9998, nextActionDelay=1.0750, actionsTaken=3, timelines=0, actor=player_fighter(True), cooldown_check=1.0008<1.0750=True
[COMBAT_LOG] {"ts":1770504489719,"event":"DECISION","unit":"player_fighter","action":"Move","target":"(-0.8404597, 0, -1.8880079)","score":1.7190075,"reason":"positioning","score_breakdown":{"positioning":1.62,"random":0.1}}
[UIAwareAI] Fighter -> Move (#4) score:1.72
[CombatArena] ExecuteMovement: player_fighter -> (-0.8404597, 0, -1.8880079)
[CombatArena] ExecuteMovement starting with action ID 63
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504489720,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Fighter moved from (-11, 0, -3.000001) to (-0.8404597, 0, -1.8880079), distance: 10.2
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504489721,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504489721,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Move to (-0.8404597, 0, -1.8880079)","ability_id":"Move to (-0.8404597, 0, -1.8880079)"}
[COMBAT_LOG] {"ts":1770504491220,"event":"DECISION","unit":"player_fighter","action":"Move","target":"(-0.8404597, 0, -1.8880079)","score":1.7190075,"reason":"positioning","score_breakdown":{"positioning":1.62,"random":0.1}}
[UIAwareAI] Fighter -> Move (#5) score:1.72
[CombatArena] ExecuteMovement: player_fighter -> (-0.8404597, 0, -1.8880079)
[CombatArena] ExecuteMovement starting with action ID 64
[CombatArena] [STATE] PlayerDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504491221,"event":"STATE_CHANGE","reason":"Fighter moving","from_state":"PlayerDecision","to_state":"ActionExecution"}
[UIAwareAI] State: PlayerDecision -> ActionExecution
[CombatArena] Movement failed: Move distance too small
[CombatArena] [STATE] ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504491222,"event":"STATE_CHANGE","reason":"Movement failed","from_state":"ActionExecution","to_state":"PlayerDecision"}
[UIAwareAI] State: ActionExecution -> PlayerDecision
[COMBAT_LOG] {"ts":1770504491222,"event":"ACTION_RESULT","unit":"player_fighter","action":"Attack","score":0,"success":true,"description":"Move to (-0.8404597, 0, -1.8880079)","ability_id":"Move to (-0.8404597, 0, -1.8880079)"}
[UIAwareAI] [DIAG] state=PlayerDecision, waiting_for=action cooldown (0.2s remaining), isActing=False, hudReady=True, timeSinceStateChange=1.4282, elapsedSinceLastAction=1.1707, nextActionDelay=1.3275, actionsTaken=5, timelines=0, actor=player_fighter(True), cooldown_check=1.1717<1.3275=True
[COMBAT_LOG] {"ts":1770504492711,"event":"DECISION","unit":"player_fighter","action":"EndTurn","score":0.10773319,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Fighter -> EndTurn (#6) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] PlayerDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504492712,"event":"STATE_CHANGE","reason":"player_fighter ended turn","from_state":"PlayerDecision","to_state":"TurnEnd"}
[UIAwareAI] State: PlayerDecision -> TurnEnd
[CombatArena] [TURN] Round 3, Orc Archer
[COMBAT_LOG] {"ts":1770504492713,"event":"TURN_START","turn":19,"round":3,"unit":"enemy_orc_archer","unit_name":"Orc Archer","faction":"Hostile","hp":12,"max_hp":30,"ap":"Bonus | Reaction | Move:30/30","pos":[-1.96,0,-3.72]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504492714,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504492715,"event":"STATE_CHANGE","reason":"Awaiting Orc Archer\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Orc Archer at (-1.96, 0, -3.72)
[CombatArena] SelectCombatant called: enemy_orc_archer
[CombatArena] Selected: enemy_orc_archer
[CombatArena] Turn started: Orc Archer (AI)
[UIAwareAI] Turn started for Orc Archer (waited 6.86s total)
[COMBAT_LOG] {"ts":1770504493008,"event":"DECISION","unit":"enemy_orc_archer","action":"Attack","target":"player_cleric","score":9.478462,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.5}}
[UIAwareAI] Orc Archer -> Attack (#1) score:9.48
[CombatArena] ExecuteAbility: enemy_orc_archer -> basic_attack -> player_cleric
[CombatArena] ExecuteAbility starting with action ID 65
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504493009,"event":"STATE_CHANGE","reason":"Orc Archer using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Archer used basic_attack on Cleric: damage:7
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504493009,"event":"ACTION_RESULT","unit":"enemy_orc_archer","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_cleric","ability_id":"Attack:basic_attack-\u003Eplayer_cleric"}
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504493590,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 65 vs executing -1): Ability timeline timeout fallback
[COMBAT_LOG] {"ts":1770504494906,"event":"DECISION","unit":"enemy_orc_archer","action":"Attack","target":"player_cleric","score":9.478462,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":8,"damage_value":1.5,"random":0.5}}
[UIAwareAI] Orc Archer -> Attack (#2) score:9.48
[CombatArena] ExecuteAbility: enemy_orc_archer -> basic_attack -> player_cleric
[CombatArena] ExecuteAbility starting with action ID 66
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504494908,"event":"STATE_CHANGE","reason":"Orc Archer using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504494908,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504494908,"event":"ACTION_RESULT","unit":"enemy_orc_archer","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_cleric","ability_id":"Attack:basic_attack-\u003Eplayer_cleric"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (1.1s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.5267, elapsedSinceLastAction=0.2642, nextActionDelay=1.3171, actionsTaken=2, timelines=0, actor=enemy_orc_archer(True), cooldown_check=0.2652<1.3171=True
[COMBAT_LOG] {"ts":1770504496525,"event":"DECISION","unit":"enemy_orc_archer","action":"Move","target":"(-1.0108817, 0, -3.0758448)","score":1.1926811,"reason":"positioning","score_breakdown":{"positioning":1.17,"random":0.02}}
[UIAwareAI] Orc Archer -> Move (#3) score:1.19
[CombatArena] ExecuteMovement: enemy_orc_archer -> (-1.0108817, 0, -3.0758448)
[CombatArena] ExecuteMovement starting with action ID 67
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504496526,"event":"STATE_CHANGE","reason":"Orc Archer moving","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Orc Archer moved from (-1.96, 0, -3.72) to (-1.0108817, 0, -3.0758448), distance: 1.1
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504496526,"event":"STATE_CHANGE","reason":"Movement completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504496526,"event":"ACTION_RESULT","unit":"enemy_orc_archer","action":"Attack","score":0,"success":true,"description":"Move to (-1.0108817, 0, -3.0758448)","ability_id":"Move to (-1.0108817, 0, -3.0758448)"}
[COMBAT_LOG] {"ts":1770504497974,"event":"DECISION","unit":"enemy_orc_archer","action":"EndTurn","score":0.10916656,"reason":"base","score_breakdown":{"base":0.1,"random":0.01}}
[UIAwareAI] Orc Archer -> EndTurn (#4) score:0.11
[UIAwareAI] Calling EndCurrentTurn()
[CombatArena] [STATE] AIDecision -> TurnEnd
[COMBAT_LOG] {"ts":1770504497974,"event":"STATE_CHANGE","reason":"enemy_orc_archer ended turn","from_state":"AIDecision","to_state":"TurnEnd"}
[UIAwareAI] State: AIDecision -> TurnEnd
[CombatArena] [TURN] Round 3, Goblin Shaman
[COMBAT_LOG] {"ts":1770504497976,"event":"TURN_START","turn":20,"round":3,"unit":"enemy_shaman","unit_name":"Goblin Shaman","faction":"Hostile","hp":21,"max_hp":28,"ap":"Bonus | Reaction | Move:27/30","pos":[-0.67003775,0,-0.700171]}
[COMBAT_LOG] {"ts":1770504497976,"event":"STATE_SNAPSHOT","turn":20,"round":3,"units":[{"id":"player_fighter","name":"Fighter","faction":"Player","hp":32,"max_hp":52,"pos":[-0.8404597,0,-1.8880079],"alive":true},{"id":"player_mage","name":"Mage","faction":"Player","hp":22,"max_hp":32,"pos":[-0.49961582,0,0.4876659],"alive":true},{"id":"player_cleric","name":"Cleric","faction":"Player","hp":25,"max_hp":44,"pos":[-2.4313908,0,-4.823536],"alive":true},{"id":"player_rogue","name":"Rogue","faction":"Player","hp":36,"max_hp":36,"pos":[-2.534761,0,-4.7733994],"alive":true},{"id":"enemy_orc_brute","name":"Orc Brute","faction":"Hostile","hp":48,"max_hp":48,"pos":[12.752087,0,24.332949],"alive":true},{"id":"enemy_orc_archer","name":"Orc Archer","faction":"Hostile","hp":12,"max_hp":30,"pos":[-1.0108817,0,-3.0758448],"alive":true},{"id":"enemy_goblin","name":"Goblin Skirmisher","faction":"Hostile","hp":0,"max_hp":22,"pos":[-0.03999996,0,-2.28],"alive":false},{"id":"enemy_shaman","name":"Goblin Shaman","faction":"Hostile","hp":21,"max_hp":28,"pos":[-0.67003775,0,-0.700171],"alive":true}]}
[CombatArena] [STATE] TurnEnd -> TurnStart
[COMBAT_LOG] {"ts":1770504497978,"event":"STATE_CHANGE","reason":"Next turn","from_state":"TurnEnd","to_state":"TurnStart"}
[UIAwareAI] State: TurnEnd -> TurnStart
[CombatArena] [STATE] TurnStart -> AIDecision
[COMBAT_LOG] {"ts":1770504497978,"event":"STATE_CHANGE","reason":"Awaiting Goblin Shaman\u0027s decision","from_state":"TurnStart","to_state":"AIDecision"}
[UIAwareAI] State: TurnStart -> AIDecision
[CombatArena] Camera panning to Goblin Shaman at (-0.67003775, 0, -0.700171)
[CombatArena] SelectCombatant called: enemy_shaman
[CombatArena] Selected: enemy_shaman
[CombatArena] Turn started: Goblin Shaman (AI)
[UIAwareAI] Turn started for Goblin Shaman (waited 5.21s total)
[COMBAT_LOG] {"ts":1770504498291,"event":"DECISION","unit":"enemy_shaman","action":"Attack","target":"player_mage","score":5.4186273,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.44}}
[UIAwareAI] Goblin Shaman -> Attack (#1) score:5.42
[CombatArena] ExecuteAbility: enemy_shaman -> basic_attack -> player_mage
[CombatArena] ExecuteAbility starting with action ID 68
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504498292,"event":"STATE_CHANGE","reason":"Goblin Shaman using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Goblin Shaman used basic_attack on Mage: damage:3
[CombatArena] ClearSelection called
[COMBAT_LOG] {"ts":1770504498292,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_mage","ability_id":"Attack:basic_attack-\u003Eplayer_mage"}
[UIAwareAI] [DIAG] state=ActionExecution, waiting_for=animation to complete (1 playing), isActing=False, hudReady=True, timeSinceStateChange=0.0000, elapsedSinceLastAction=0.0000, nextActionDelay=1.4735, actionsTaken=1, timelines=1, actor=enemy_shaman(True), cooldown_check=0.0010<1.4735=True
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504498909,"event":"STATE_CHANGE","reason":"Ability timeline completed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[CombatArena] Ignoring stale callback (action 68 vs executing -1): Ability timeline timeout fallback
[COMBAT_LOG] {"ts":1770504500546,"event":"DECISION","unit":"enemy_shaman","action":"Attack","target":"player_mage","score":5.4186273,"reason":"team_focus_fire","score_breakdown":{"team_focus_fire":4,"damage_value":1.5,"random":0.44}}
[UIAwareAI] Goblin Shaman -> Attack (#2) score:5.42
[CombatArena] ExecuteAbility: enemy_shaman -> basic_attack -> player_mage
[CombatArena] ExecuteAbility starting with action ID 69
[CombatArena] [STATE] AIDecision -> ActionExecution
[COMBAT_LOG] {"ts":1770504500547,"event":"STATE_CHANGE","reason":"Goblin Shaman using basic_attack","from_state":"AIDecision","to_state":"ActionExecution"}
[UIAwareAI] State: AIDecision -> ActionExecution
[CombatArena] Ability failed: No action available
[CombatArena] ClearSelection called
[CombatArena] [STATE] ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504500548,"event":"STATE_CHANGE","reason":"Ability execution failed","from_state":"ActionExecution","to_state":"AIDecision"}
[UIAwareAI] State: ActionExecution -> AIDecision
[COMBAT_LOG] {"ts":1770504500548,"event":"ACTION_RESULT","unit":"enemy_shaman","action":"Attack","score":0,"success":true,"description":"Attack:basic_attack-\u003Eplayer_mage","ability_id":"Attack:basic_attack-\u003Eplayer_mage"}
[UIAwareAI] [DIAG] state=AIDecision, waiting_for=action cooldown (0.5s remaining), isActing=False, hudReady=True, timeSinceStateChange=0.8751, elapsedSinceLastAction=0.6182, nextActionDelay=1.0978, actionsTaken=2, timelines=0, actor=enemy_shaman(True), cooldown_check=0.6192<1.0978=True
