# COSMETIC DATA REMOVED (17 lines stripped):
# Fields removed: Icon (17)
# Only mechanical gameplay data retained.

new entry "Interrupt_ON_SPELL_CAST"
type "InterruptData"

new entry "Interrupt_Counterspell"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Spells/Counterspell_Unfaded_Icon.png"
data "DisplayName" "Counterspell"
data "Description" "Stop a spell from being cast. If it is higher level than the spell slot used to Counterspell, you must roll to prevent it."
data "InterruptContext" "OnSpellCast"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source)"
data "Roll" "TryCounterspellHigherLevel(3)"
data "Success" "Counterspell();UseSpell(OBSERVER_SOURCE,Target_Counterspell_Success,true,true,true)"
data "Failure" "UseSpell(OBSERVER_SOURCE,Target_Counterspell_Failure,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:3"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Counterspell_Scroll"
type "InterruptData"
using "Interrupt_Counterspell"
data "Cost" "ReactionActionPoint:1"

new entry "Interrupt_ON_POST_ROLL"
type "InterruptData"

new entry "Interrupt_BardicInspiration_Attack"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Conditions/Bardic_Inspiration_Condition_Icon.png"
data "DisplayName" "Bardic Attack"
data "Description" "Add a +[1] bonus to your Attack Roll."
data "DescriptionParams" "1d6"
data "ExtraDescription" "You will expend your Bardic Inspiration."
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(6, context.Source)"
data "Properties" "AdjustRoll(OBSERVER_OBSERVER,ResourceRoll(BardicInspiration,1));RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_D8);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_BARDIC_INSPIRATION_ATTACK,100,0)"
data "Cost" "BardicInspiration:1"
data "Stack" "BardicInspiration"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_BardicInspiration_Attack_d8"
type "InterruptData"
using "Interrupt_BardicInspiration_Attack"
data "DescriptionParams" "1d8"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(8, context.Source)"

new entry "Interrupt_BardicInspiration_Attack_d10"
type "InterruptData"
using "Interrupt_BardicInspiration_Attack"
data "DescriptionParams" "1d10"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(10, context.Source)"

new entry "Interrupt_BardicInspiration_SavingThrow"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Conditions/Bardic_Inspiration_Condition_Icon.png"
using "Interrupt_BardicInspiration_Attack"
data "DisplayName" "Bardic Defence"
data "Description" "Add a +[1] bonus to your Saving Throw."
data "InterruptContext" "OnPostRoll"
data "Conditions" "not Dead(context.Observer) and HasInterruptedSavingThrow() and Self(context.Observer,context.Target) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(6)"
data "Properties" "AdjustRoll(OBSERVER_OBSERVER,ResourceRoll(BardicInspiration,1));RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_D8);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_D10);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_D8);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_BARDIC_INSPIRATION_SAVINGTHROW,100,0)"

new entry "Interrupt_BardicInspiration_SavingThrow_d8"
type "InterruptData"
using "Interrupt_BardicInspiration_SavingThrow"
data "DescriptionParams" "1d8"
data "Conditions" "not Dead(context.Observer) and HasInterruptedSavingThrow() and Self(context.Observer,context.Target) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(8)"

new entry "Interrupt_BardicInspiration_SavingThrow_d10"
type "InterruptData"
using "Interrupt_BardicInspiration_SavingThrow"
data "DescriptionParams" "1d10"
data "Conditions" "not Dead(context.Observer) and HasInterruptedSavingThrow() and Self(context.Observer,context.Target) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(10)"

new entry "Interrupt_CombatInspiration_Attack"
type "InterruptData"
using "Interrupt_BardicInspiration_Attack"
data "DisplayName" "Valiant Attack"
data "Description" "Add a +[1] bonus to your Attack Roll."
data "ExtraDescription" "You will expend your Combat Inspiration."
data "InterruptContext" "OnPostRoll"
data "Properties" "AdjustRoll(OBSERVER_OBSERVER,ResourceRoll(BardicInspiration,1));RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT_D8);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT_D10);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_BARDIC_INSPIRATION_COMBAT_ATTACK,100,0)"

new entry "Interrupt_CombatInspiration_Attack_d8"
type "InterruptData"
using "Interrupt_CombatInspiration_Attack"
data "DescriptionParams" "1d8"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(8, context.Source)"

new entry "Interrupt_CombatInspiration_Attack_d10"
type "InterruptData"
using "Interrupt_CombatInspiration_Attack"
data "DescriptionParams" "1d10"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and not AnyEntityIsItem() and IsFlatValueInterruptInteresting(10, context.Source)"

new entry "Interrupt_CombatInspiration_SavingThrow_ArmorClass"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Actions/Throw_Unfaded_Icon.png"
using "Interrupt_CombatInspiration_Attack"
data "DisplayName" "Valiant Defence"
data "Description" "Add a +[1] bonus to your Saving Throw or Armour Class."
data "InterruptContext" "OnPostRoll"
data "Conditions" "not Dead(context.Observer) and ((HasInterruptedAttack() and IsFlatValueInterruptInteresting(6, context.Source)) or (HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(6))) and Self(context.Observer,context.Target) and not AnyEntityIsItem()"
data "Properties" "IF(HasInterruptedSavingThrow()):AdjustRoll(OBSERVER_OBSERVER,ResourceRoll(BardicInspiration,1));IF(HasInterruptedAttack()):AdjustRoll(OBSERVER_OBSERVER,0-ResourceRoll(BardicInspiration,1));RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT_D8);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT_D10);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_BARDIC_INSPIRATION_COMBAT_DEFENSE,100,0)"

new entry "Interrupt_CombatInspiration_SavingThrow_ArmorClass_d8"
type "InterruptData"
using "Interrupt_CombatInspiration_SavingThrow_ArmorClass"
data "DescriptionParams" "1d8"
data "Conditions" "not Dead(context.Observer) and ((HasInterruptedAttack() and IsFlatValueInterruptInteresting(8, context.Source)) or (HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(8))) and Self(context.Observer,context.Target) and not AnyEntityIsItem()"

new entry "Interrupt_CombatInspiration_SavingThrow_ArmorClass_d10"
type "InterruptData"
using "Interrupt_CombatInspiration_SavingThrow_ArmorClass"
data "DescriptionParams" "1d10"
data "Conditions" "not Dead(context.Observer) and ((HasInterruptedAttack() and IsFlatValueInterruptInteresting(10, context.Source)) or (HasInterruptedSavingThrow() and IsFlatValueInterruptInteresting(10))) and Self(context.Observer,context.Target) and not AnyEntityIsItem()"

new entry "Interrupt_CuttingWords"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Actions/Cutting_Words_Unfaded_Icon.png"
data "DisplayName" "Cutting Words"
data "Description" "The target receives a [1] penalty to Attack Roll, Ability Check or damage dealt."
data "DescriptionParams" "LevelMapValue(BardicInspiration)"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and ((HasInterruptedAttack() and Enemy(context.Source,context.Observer) and ((not ClassLevelHigherOrEqualThan(5,'Bard') and IsFlatValueInterruptInteresting(6, context.Source)) or (ClassLevelHigherOrEqualThan(5,'Bard') and not ClassLevelHigherOrEqualThan(10,'Bard') and IsFlatValueInterruptInteresting(8, context.Source)) or (ClassLevelHigherOrEqualThan(10,'Bard') and IsFlatValueInterruptInteresting(10, context.Source)))) or (HasInterruptedSavingThrow() and Enemy(context.Target,context.Observer) and ((not ClassLevelHigherOrEqualThan(5,'Bard') and IsFlatValueInterruptInteresting(6)) or (ClassLevelHigherOrEqualThan(5,'Bard') and not ClassLevelHigherOrEqualThan(10,'Bard') and IsFlatValueInterruptInteresting(8)) or (ClassLevelHigherOrEqualThan(10,'Bard') and IsFlatValueInterruptInteresting(10))))) and not AnyEntityIsItem()"
data "Properties" "AdjustRoll(OBSERVER_OBSERVER,0-LevelMapValue(BardicInspiration));ApplyStatus(OBSERVER_SOURCE,INTERRUPT_CUTTING_WORDS_TARGET,100,0);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_CUTTING_WORDS,100,0);IF(not Self(context.Target, context.Observer)):UseSpell(OBSERVER_SOURCE,Target_CuttingWords,true,true,true)"
data "Cost" "ReactionActionPoint:1;BardicInspiration:1"
data "InterruptDefaultValue" "Enabled;Ask"
data "EnableCondition" "not HasStatus('SG_Polymorph') or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_DefensiveDuelist"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Passive Features/Defensive_Duellist_Unfaded_Icon.png"
data "DisplayName" "Defensive Duellist"
data "Description" "When attacked with a melee attack, add your Proficiency Bonus to your Armour Class, possibly causing attacks to miss."
data "DescriptionParams" "ProficiencyBonus"
data "ExtraDescription" "Requires a Finesse Weapon you are Proficient in."
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and HasInterruptedAttack() and Self(context.Target,context.Observer) and not AnyEntityIsItem() and IsMeleeAttack() and HasWeaponProperty(WeaponProperties.Finesse, GetActiveWeapon(context.Observer)) and IsProficientWith(context.Observer, GetActiveWeapon(context.Observer)) and IsFlatValueInterruptInteresting(context.Observer.ProficiencyBonus, context.Source)"
data "Properties" "AdjustRoll(OBSERVER_OBSERVER,0-ProficiencyBonus);ApplyStatus(SWAP,PASSIVE_DEFENSIVE_DUELIST,100,0);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_DEFENSIVE_DUELIST,100,0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_RecklessAttack"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Weapon Actions/Reckless_Attack_Unfaded_Icon.png"
data "DisplayName" "Reckless Attack"
data "Description" "Gain Advantage on Attack Rolls until the end of your turn, but enemies also have Advantage against you. "
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and HasInterruptedAttack() and Self(context.Observer,context.Source) and IsMeleeWeaponAttack() and not HasStatus('RECKLESS_ATTACK',context.Observer) and not SpellId('Target_RecklessAttack') and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source) and not InterruptHasAdvantage()"
data "Properties" "SetAdvantage();ApplyStatus(OBSERVER_OBSERVER,RECKLESS_ATTACK,100,1)"
data "Cooldown" "OncePerTurn"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_WardingFlare"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Actions/Warding_Flare_Unfaded_Icon.png"
data "DisplayName" "Warding Flare"
data "Description" "Impose Disadvantage on an attacker, possibly causing their attack to miss."
data "ExtraDescription" "Has no effect on creatures that can't be Blinded."
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and HasInterruptedAttack() and not AnyEntityIsItem() and IsRerollInterruptInteresting(context.Source) and not InterruptHasDisadvantage()"
data "Properties" "SetDisadvantage();ApplyStatus(OBSERVER_TARGET,PASSIVE_WARDING_FLARE,100,0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_ON_PRE_DAMAGE"
type "InterruptData"

new entry "Interrupt_ShieldMaster"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Passive Features/Shield_Master_Block_Unfaded_Icon.png"
data "DisplayName" "Shield Master: Block"
data "Description" "Shield yourself from a spell attack: when you fail a Dexterity Saving Throw on a spell, you only take half damage. When you succeed, you take no damage."
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and HasDamageEffectFlag(DamageFlags.SavingThrow) and HasSpellFlag(SpellFlags.CanAreaDamageEvade) and not AnyEntityIsItem()"
data "Properties" "SetRoll(0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "HasShieldEquipped(context.Source) and (not HasStatus('SG_Polymorph') or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'}));"
data "EnableContext" "OnEquip;OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_GithyankiParry"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Passive Features/Parry_Unfaded_Icon.png"
data "DisplayName" "Githyanki Parry"
data "Description" "Parry unarmed and weapon attacks to reduce their damage by [1]."
data "DescriptionParams" "10"
data "ExtraDescription" "You must be wielding a Greatsword, see the attacker, and you can't be Incapacitated or Restrained."
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and IsAttack() and not HasSpellFlag(SpellFlags.Spell) and HasDamageEffectFlag(DamageFlags.Hit) and not HasStatus('SG_Blinded') and not HasStatus('SG_Prone') and not HasStatus('SG_Incapacitated') and not HasStatus('SG_Restrained')"
data "Properties" "AdjustRoll(-10); ApplyStatus(OBSERVER_OBSERVER,PARRIED_GITHYANKI,100,1); RemoveStatus(OBSERVER_OBSERVER, PARRY_GITHYANKI)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "IsWeaponOfProficiencyGroup('Greatswords', GetActiveWeapon())"
data "EnableContext" "OnEquip"

new entry "Interrupt_ON_CAST_HIT"
type "InterruptData"

new entry "Interrupt_CombatInspiration_Damage"
type "InterruptData"
using "Interrupt_CombatInspiration_Attack"
data "DisplayName" "Valiant Damage"
data "Description" "Add an additional [1] damage to your weapon attack."
data "InterruptContext" "OnCastHit"
data "Conditions" "not Dead(context.Observer) and Character() and IsWeaponAttack() and not Self() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and not IsKillingBlow() and not AnyEntityIsItem();"
data "Properties" "IF(IsMeleeAttack()):DealDamage(ResourceRoll(BardicInspiration,1), MainMeleeWeaponDamageType);IF(IsRangedAttack()):DealDamage(ResourceRoll(BardicInspiration,1), MainRangedWeaponDamageType);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT_D8);RemoveStatus(OBSERVER_OBSERVER,BARDIC_INSPIRATION_COMBAT_D10);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_BARDIC_INSPIRATION_COMBAT_DAMAGE,100,0)"

new entry "Interrupt_CombatInspiration_Damage_d8"
type "InterruptData"
using "Interrupt_CombatInspiration_Damage"
data "DescriptionParams" "1d8"

new entry "Interrupt_CombatInspiration_Damage_d10"
type "InterruptData"
using "Interrupt_CombatInspiration_Damage"
data "DescriptionParams" "1d10"

new entry "Interrupt_GiantKiller"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Passive Features/Giant_Killer_Unfaded_Icon.png"
data "DisplayName" "Giant Killer"
data "Description" "If a Large or bigger creature attacks you, you can retaliate with a melee attack."
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and SizeEqualOrGreater(Size.Large, context.Source) and IsMeleeAttack() and not HasStatus('INVISIBILITY', context.Source) and Self(context.Target,context.Observer) and not AnyEntityIsItem() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and HasLastAttackTriggered()"
data "Properties" "UseAttack(SWAP);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_GIANTKILLER,100,0)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_HellishRebuke"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Spells/Hellish_Rebuke_Unfaded_Icon.png"
data "DisplayName" "Hellish Rebuke"
data "Description" "React to your next attacker with flames that deal [1]."
data "DescriptionParams" "DealDamage(2d10,Fire)"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not HasVerbalComponentBlocked(context.Observer) and IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and HasFunctor(StatsFunctorType.DealDamage) and IsHit() and not AnyEntityIsItem() and HasLastAttackTriggered()"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:1"
data "Stack" "HellishRebuke"
data "InterruptDefaultValue" "Enabled;Ask"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_HellishRebuke_WarlockMI"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "ExtraDescription" "Can be used once per Long Rest."
data "Cost" "ReactionActionPoint:1;Interrupt_HellishRebukeWarlockMI_Charge:1"
data "EnableCondition" "HasActionResource('Interrupt_HellishRebukeWarlockMI_Charge', 1, 0, false, false, context.Source) and (not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'}));"
data "EnableContext" "OnStatusApplied;OnStatusRemoved;OnActionResourcesChanged"

new entry "Interrupt_HellishRebuke_2"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(3d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_2,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:2"

new entry "Interrupt_HellishRebuke_AsmodeusTiefling"
type "InterruptData"
using "Interrupt_HellishRebuke_2"
data "DisplayName" "Infernal Legacy: Hellish Rebuke"
data "ExtraDescription" "Can be used once per Long Rest."
data "Cost" "ReactionActionPoint:1;Interrupt_HellishRebukeTiefling_Charge:1"
data "EnableCondition" "HasActionResource('Interrupt_HellishRebukeTiefling_Charge', 1, 0, false, false, context.Source) and (not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'}));"
data "EnableContext" "OnStatusApplied;OnStatusRemoved;OnActionResourcesChanged"

new entry "Interrupt_HellishRebuke_3"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(4d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_3,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:3"

new entry "Interrupt_HellishRebuke_4"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(5d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_4,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:4"

new entry "Interrupt_HellishRebuke_5"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(6d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_5,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:5"

new entry "Interrupt_HellishRebuke_6"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(7d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_6,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:6"

new entry "Interrupt_Riposte"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Weapon Actions/Riposte_Unfaded_Icon.png"
data "DisplayName" "Riposte"
data "Description" "When a creature misses you with a melee attack, you can retaliate with a powerful strike that deals an additional 1d8 damage if you are wielding a melee weapon. "
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Enemy(context.Source,context.Observer) and IsMeleeAttack() and IsMiss() and not HasStatus('INVISIBILITY') and not AnyEntityIsItem() and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and HasLastAttackTriggered()"
data "Properties" "UseSpell(SWAP,Target_Riposte,true,true,true);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_RIPOSTE,100,0)"
data "Cost" "ReactionActionPoint:1;SuperiorityDie:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasAnyStatus({'SG_Polymorph','SG_Blinded'}) or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Smite_Divine"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Actions/Divine_Smite_Unfaded_Icon.png"
data "DisplayName" "Divine Smite"
data "Description" "Your weapon deals an additional [1], increased by [2] when attacking fiends or undead."
data "DescriptionParams" "DealDamage(2d8,Radiant);DealDamage(1d8,Radiant)"
data "ExtraDescription" "This reaction won't trigger on a Critical Hit."
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Self() and not Item() and IsMeleeAttack() and not IsDivineSmite() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and IsWeaponAttack() and not IsCritical() and not IsKillingBlow() and not AnyEntityIsItem();"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(2d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(3d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:1"
data "Stack" "DivineSmite"
data "EnableCondition" "not HasStatus('SG_Polymorph') or HasAnyStatus({'SG_Disguise','WILDSHAPE_STARRY_ARCHER_PLAYER','WILDSHAPE_STARRY_CHALICE_PLAYER','WILDSHAPE_STARRY_DRAGON_PLAYER'});"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

new entry "Interrupt_Smite_Divine_2"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "DescriptionParams" "DealDamage(3d8,Radiant);DealDamage(1d8,Radiant)"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(3d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(4d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:2"

new entry "Interrupt_Smite_Divine_3"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "DescriptionParams" "DealDamage(4d8,Radiant);DealDamage(1d8,Radiant)"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(4d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(5d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:3"

new entry "Interrupt_Smite_Divine_4"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "DescriptionParams" "DealDamage(5d8,Radiant);DealDamage(1d8,Radiant)"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(5d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(6d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:4"

new entry "Interrupt_Smite_Divine_5"
type "InterruptData"
using "Interrupt_Smite_Divine_4"
data "Cost" "SpellSlotsGroup:1:1:5"

new entry "Interrupt_Smite_Divine_6"
type "InterruptData"
using "Interrupt_Smite_Divine_4"
data "Cost" "SpellSlotsGroup:1:1:6"

new entry "Interrupt_Smite_Divine_NPC"
type "InterruptData"
using "Interrupt_Smite_Divine"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_Smite_Divine_2_NPC"
type "InterruptData"
using "Interrupt_Smite_Divine_2"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_Smite_Divine_3_NPC"
type "InterruptData"
using "Interrupt_Smite_Divine_3"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_Smite_Divine_Critical"
type "InterruptData"
data "Icon" "res://assets/Images/Icons Actions/Divine_Smite_Unfaded_Icon.png"
using "Interrupt_Smite_Divine"
data "DisplayName" "Divine Smite on Critical Hit"
data "ExtraDescription" "Deals an additional [1] to fiends and undead.This reaction only triggers when you land a Critical Hit."
data "Conditions" "IsAbleToReact(context.Observer) and not Self() and not Item() and IsMeleeAttack() and not IsDivineSmite() and Self(context.Source,context.Observer) and HasDamageEffectFlag(DamageFlags.Hit) and IsWeaponAttack() and IsCritical() and not IsKillingBlow() and not AnyEntityIsItem();"
data "Cost" "SpellSlotsGroup:1:1:1"
data "InterruptDefaultValue" "Enabled"

new entry "Interrupt_Smite_Divine_Critical_2"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical"
data "DescriptionParams" "DealDamage(3d8,Radiant);"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(3d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(4d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:2"

new entry "Interrupt_Smite_Divine_Critical_3"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical"
data "DescriptionParams" "DealDamage(4d8,Radiant);"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(4d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(5d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:3"

new entry "Interrupt_Smite_Divine_Critical_4"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical"
data "DescriptionParams" "DealDamage(5d8,Radiant);"
data "Properties" "IF(not UndeadOrFiend(context.Target)):DealDamage(5d8,Radiant,Magical);IF(UndeadOrFiend(context.Target)):DealDamage(6d8,Radiant,Magical);ApplyStatus(INTERRUPT_SMITE_DIVINE_VFX,100,0)"
data "Cost" "SpellSlotsGroup:1:1:4"

new entry "Interrupt_Smite_Divine_Critical_5"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical_4"
data "Cost" "SpellSlotsGroup:1:1:5"

new entry "Interrupt_Smite_Divine_Critical_6"
type "InterruptData"
using "Interrupt_Smite_Divine_Critical_4"
data "Cost" "SpellSlotsGroup:1:1:6"

new entry "Interrupt_OTHERS"
type "InterruptData"

new entry "Interrupt_AttackOfOpportunity"
type "InterruptData"
data "DisplayName" "Opportunity Attack"
data "Description" "Attack an enemy moving out of your reach."
data "InterruptContext" "OnLeaveAttackRange"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and not Self(context.Observer, context.Target) and Enemy() and not HasStatus('SANCTUARY',context.Source) and not WieldingWeapon('Ammunition', false, false, context.Source) and not (not Player(context.Source) and Tagged('AI_IGNORED_TARGET')  and not HasStatus('GNOLL_SUDDENRUSH')) and not HasStatus('SHOCKWAVE') and not (HasStatus('MOBILE_NO_AOO', context.Source) and HasStatus('MOBILE_NO_AOO_SOURCE', context.Target)) and not HasStatus('FLAMING_SPHERE_AURA') and not HasStatus('SNEAKING',context.Target) and not HasStatus('SG_Ignore_AOO',context.Target)  and not AnyEntityIsItem() and not HasSpellFlag(SpellFlags.IgnoreAoO, context.Target)"
data "Properties" "IF(not HasPassive('Sentinel_ZeroSpeed',context.Source)):UseAttack();IF(HasPassive('Sentinel_ZeroSpeed',context.Source)):UseSpell(Target_Sentinel_AttackOfOpportunity,true,true,true);TutorialEvent(SWAP,f658a860-7e3e-44fd-807b-88d3c0c31217)"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasStatus('SG_Blinded')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

