# COSMETIC DATA REMOVED (6 lines stripped):
# Fields removed: Icon (3), StatusEffect (2), ApplyEffect (1)
# Only mechanical gameplay data retained.

new entry "INVISIBLE"
type "StatusData"
data "StatusType" "INVISIBLE"
data "DisplayName" "Invisible"
data "Description" "Has Advantage on Attack Rolls and imposes Disadvantage on enemy Attack Rolls. Invisibility ends early if the invisible entity attacks, casts another spell, takes an action, or takes damage."
data "FormatColor" "White"
data "MaterialType" "Replacement"
data "MaterialApplyBody" "Yes"
data "MaterialApplyArmor" "Yes"
data "MaterialApplyWeapon" "Yes"
data "MaterialApplyNormalMap" "No"
data "StackId" "INVISIBILITY"
data "StackPriority" "1"
data "Boosts" "IgnoreLeaveAttackRange; Invisibility(); Advantage(AttackRoll); DetectDisturbancesBlock(true);"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering"
data "RemoveEvents" "OnSpellCast;OnDamage;OnEntityPickUp;OnEntityDrop;OnEntityDrag;OnLockpickingFinished;OnDisarmingFinished"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (IsStatusEvent(StatusEvent.OnDamage) and TotalDamageDoneGreaterThan(0)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnDamage))"
data "StatusGroups" "SG_Invisible;SG_RemoveOnRespec"

new entry "INVISIBLE_MAGEHAND"
type "StatusData"
data "StatusType" "INVISIBLE"
using "INVISIBLE"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;IgnoreResting"
data "OnRemoveFunctors" "ApplyStatus(MAGEHAND_REST,100,-1)"

new entry "INVISIBILITY"
type "StatusData"
data "StatusType" "INVISIBLE"
data "DisplayName" "Invisible"
data "Description" "Has Advantage on Attack Rolls and imposes Disadvantage on enemy Attack Rolls. Invisibility ends early if the invisible entity attacks, casts another spell, interacts with an object, takes an action or bonus action, or is damaged."
data "StackId" "INVISIBILITY"
data "StackPriority" "4"
data "Boosts" "IgnoreLeaveAttackRange; Invisibility(); Advantage(AttackRoll); DetectDisturbancesBlock(true);"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering"
data "RemoveEvents" "OnSpellCast;OnDamage;OnEntityPickUp;OnEntityDrop;OnEntityDrag;OnLockpickingFinished;OnDisarmingFinished"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (IsStatusEvent(StatusEvent.OnDamage) and TotalDamageDoneGreaterThan(0)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnDamage))"
data "StatusGroups" "SG_Invisible;SG_RemoveOnRespec"

new entry "ONE_WITH_SHADOWS"
type "StatusData"
data "StatusType" "INVISIBLE"
using "INVISIBILITY"
data "DisplayName" "One with the Shadows"
data "Description" "Affected entity is invisible. It has Advantage on Attack Rolls and imposes Disadvantage on enemy Attack Rolls. Invisibility ends early if the invisible entity moves, attacks, casts another spell, takes an action, or takes damage."
data "StackPriority" "2"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering"
data "RemoveEvents" "OnSpellCast;OnDamage;OnEntityPickUp;OnEntityDrop;OnEntityDrag;OnMove;OnLockpickingFinished;OnDisarmingFinished"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (IsStatusEvent(StatusEvent.OnDamage) and TotalDamageDoneGreaterThan(0)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnDamage)) or SpellId('Projectile_Jump') or SpellId('Projectile_Fly') or SpellId('Projectile_Fly_Spell')"

new entry "POTION_OF_INVISIBILITY"
type "StatusData"
data "StatusType" "INVISIBLE"
using "INVISIBLE"
data "StackPriority" "5"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering"

